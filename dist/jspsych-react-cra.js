!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["jspsych-react-cra"]=t():e["jspsych-react-cra"]=t()}(window,(function(){return t=[function(e,t,r){var i,n,s,a,o,l,u,p,c=function(){var e,t,r,i,n={version:function(){return"6.3.1"}},s={},a=0,o={},l=!1,u=!1,p=!1,d=!1;function y(e,t,r){var i,n,s,a,o,l={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},u=this;this.trial=function(){return void 0===a?c.utils.deepCopy(s):l.current_location>=a.timeline.length?null:a.timeline[l.current_location].trial()},this.markCurrentTrialComplete=function(){void 0===a?l.done=!0:a.timeline[l.current_location].markCurrentTrialComplete()},this.nextRepetiton=function(){this.setTimelineVariablesOrder(),l.current_location=-1,l.current_variable_set=0,l.current_repetition++;for(var e=0;e<a.timeline.length;e++)a.timeline[e].reset()},this.setTimelineVariablesOrder=function(){if(void 0!==a&&void 0!==a.timeline_variables){for(var e=[],t=0;t<a.timeline_variables.length;t++)e.push(t);void 0!==a.sample&&("custom"==a.sample.type?e=a.sample.fn(e):"with-replacement"==a.sample.type?e=c.randomization.sampleWithReplacement(e,a.sample.size,a.sample.weights):"without-replacement"==a.sample.type?e=c.randomization.sampleWithoutReplacement(e,a.sample.size):"fixed-repetitions"==a.sample.type?e=c.randomization.repeat(e,a.sample.size,!1):"alternate-groups"==a.sample.type?e=c.randomization.shuffleAlternateGroups(a.sample.groups,a.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),a.randomize_order&&(e=c.randomization.shuffle(e)),l.order=e}},this.nextSet=function(){l.current_location=-1,l.current_variable_set++;for(var e=0;e<a.timeline.length;e++)a.timeline[e].reset()},this.advance=function(){if(l.done)return!0;if(-1==l.current_location){if(void 0!==a){if(void 0!==a.conditional_function&&0==l.current_repetition&&0==l.current_variable_set){c.internal.call_immediate=!0;var e=a.conditional_function();if(c.internal.call_immediate=!1,0==e)return l.done=!0}void 0!==a.on_timeline_start&&0==l.current_variable_set&&a.on_timeline_start()}return l.current_location=0,this.advance()}if(void 0!==a){for(var t=!1;l.current_location<a.timeline.length&&0==t;){if(!a.timeline[l.current_location].advance())return!(t=!0);l.current_location++}return l.current_variable_set<l.order.length-1?(this.nextSet(),this.advance()):l.current_repetition<a.repetitions-1?(this.nextRepetiton(),void 0!==a.on_timeline_finish&&a.on_timeline_finish(),this.advance()):(void 0!==a.on_timeline_finish&&a.on_timeline_finish(),void 0!==a.loop_function?(c.internal.call_immediate=!0,a.loop_function(this.generatedData())?(this.reset(),c.internal.call_immediate=!1,n.advance()):(l.done=!0,!(c.internal.call_immediate=!1))):l.done=!0)}},this.isComplete=function(){return l.done},this.getTimelineVariableValue=function(e){if(void 0!==a)return a.timeline_variables[l.order[l.current_variable_set]][e]},this.findTimelineVariable=function(e){var t=this.getTimelineVariableValue(e);return void 0!==t?t:void 0!==n?n.findTimelineVariable(e):void 0},this.timelineVariable=function(e){if(void 0===a)return this.findTimelineVariable(e);var t=Math.max(0,l.current_location);return t==a.timeline.length&&(t-=1),a.timeline[t].timelineVariable(e)},this.allTimelineVariables=function(){for(var e=this.allTimelineVariablesNames(),t={},r=0;r<e.length;r++)t[e[r]]=this.timelineVariable(e[r]);return t},this.allTimelineVariablesNames=function(e){if(void 0===e&&(e=[]),void 0!==a){e=e.concat(Object.keys(a.timeline_variables[l.order[l.current_variable_set]]));var t=Math.max(0,l.current_location);return t==a.timeline.length&&(t-=1),a.timeline[t].allTimelineVariablesNames(e)}if(void 0===a)return e},this.length=function(){var e=0;if(void 0===a)return 1;for(var t=0;t<a.timeline.length;t++)e+=a.timeline[t].length();return e},this.percentComplete=function(){for(var e=this.length(),t=0,r=0;r<a.timeline.length;r++)a.timeline[r].isComplete()&&(t+=a.timeline[r].length());return t/e*100},this.reset=function(){if(l.current_location=-1,l.current_repetition=0,l.current_variable_set=0,l.current_iteration++,l.done=!1,this.setTimelineVariablesOrder(),void 0!==a)for(var e=0;e<a.timeline.length;e++)a.timeline[e].reset()},this.end=function(){l.done=!0},this.endActiveNode=function(){void 0===a?(this.end(),n.end()):a.timeline[l.current_location].endActiveNode()},this.ID=function(){var e="";return void 0===n?"0."+l.current_iteration:(e+=n.ID()+"-",e+=i+"."+l.current_iteration)},this.activeID=function(){return void 0===a?this.ID():a.timeline[l.current_location].activeID()},this.generatedData=function(){return c.data.getDataByTimelineNode(this.ID())},this.trialsOfType=function(e){if(void 0===a)return s.type==e?s:[];for(var t=[],r=0;r<a.timeline.length;r++){var i=a.timeline[r].trialsOfType(e);t=t.concat(i)}return t},this.insert=function(e){void 0===a?console.error("Cannot add new trials to a trial-level node."):a.timeline.push(new y(Object.assign({},o,e),u,a.timeline.length))},function(){if(i=void 0===(n=t)?0:r,void 0!==e.timeline||"function"==typeof c.plugins[m]){a={timeline:[],loop_function:e.loop_function,conditional_function:e.conditional_function,sample:e.sample,randomize_order:void 0!==e.randomize_order&&e.randomize_order,repetitions:void 0===e.repetitions?1:e.repetitions,timeline_variables:void 0===e.timeline_variables?[{}]:e.timeline_variables,on_timeline_finish:e.on_timeline_finish,on_timeline_start:e.on_timeline_start},u.setTimelineVariablesOrder();var l=Object.assign({},e);delete l.timeline,delete l.conditional_function,delete l.loop_function,delete l.randomize_order,delete l.repetitions,delete l.timeline_variables,delete l.sample,delete l.on_timeline_start,delete l.on_timeline_finish,o=l;for(var p=0;p<e.timeline.length;p++){var d,h=Object.assign({},l,e.timeline[p]);"object"==typeof l.data&&"object"==typeof e.timeline[p].data&&(d=Object.assign({},l.data,e.timeline[p].data),h.data=d),a.timeline.push(new y(h,u,p))}}else{var m=e.type;void 0===m?console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(e)):void 0===c.plugins[m]&&"function(){returntimeline.timelineVariable(varname);}"!=m.toString().replace(/\s/g,"")&&console.error('No plugin loaded for trials of type "'+m+'"'),s=Object.assign({},e)}}()}function h(){var t;!0===s.show_progress_bar&&(t=s.message_progress_bar,document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+t+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')),i=new Date,e.advance(),f(e.trial())}function m(){if(u)p=!0;else{a++,e.markCurrentTrialComplete();var t,i=e.advance();if(!0===s.show_progress_bar&&1==s.auto_update_progress_bar&&(t=c.progress().percent_complete,n.setProgressBar(t/100)),i)return void 0!==e.end_message&&(r.innerHTML=e.end_message),void s.on_finish(c.data.get());f(e.trial())}}function f(e){if(l=!1,function e(t){for(var r=Object.keys(t),i=0;i<r.length;i++)"function"==typeof t[r[i]]&&"function(){returntimeline.timelineVariable(varname);}"==t[r[i]].toString().replace(/\s/g,"")&&(t[r[i]]=t[r[i]].call()),"object"==typeof t[r[i]]&&null!==t[r[i]]&&e(t[r[i]])}(o=e),function(e){c.internal.call_immediate=!0,"function"==typeof e.type&&(e.type=e.type.call());for(var t=Object.keys(e),r=0;r<t.length;r++)"type"!==t[r]&&(void 0!==c.plugins.universalPluginParameters[t[r]]&&c.plugins.universalPluginParameters[t[r]].type!==c.plugins.parameterType.FUNCTION&&(e[t[r]]=g(e[t[r]],null)),void 0!==c.plugins[e.type].info.parameters[t[r]]&&c.plugins[e.type].info.parameters[t[r]].type!==c.plugins.parameterType.FUNCTION&&(e[t[r]]=g(e[t[r]],c.plugins[e.type].info.parameters[t[r]])));c.internal.call_immediate=!1}(e),function(e){for(var t in c.plugins[e.type].info.parameters)c.plugins[e.type].info.parameters[t].type==c.plugins.parameterType.COMPLEX?1==c.plugins[e.type].info.parameters[t].array&&e[t].forEach((function(r,i){for(var n in c.plugins[e.type].info.parameters[t].nested)void 0!==e[t][i][n]&&null!==e[t][i][n]||(void 0===c.plugins[e.type].info.parameters[t].nested[n].default?console.error("You must specify a value for the "+n+" parameter (nested in the "+t+" parameter) in the "+e.type+" plugin."):e[t][i][n]=c.plugins[e.type].info.parameters[t].nested[n].default)})):void 0!==e[t]&&null!==e[t]||(void 0===c.plugins[e.type].info.parameters[t].default?console.error("You must specify a value for the "+t+" parameter in the "+e.type+" plugin."):e[t]=c.plugins[e.type].info.parameters[t].default)}(e),c.internal.call_immediate=!0,s.on_trial_start(e),"function"==typeof e.on_start&&e.on_start(e),Array.isArray(e.extensions))for(var i=0;i<e.extensions.length;i++)c.extensions[e.extensions[i].type].on_start(o.extensions[i].params);if(t.focus(),void(r.scrollTop=0)!==e.css_classes&&(Array.isArray(e.css_classes)||"string"!=typeof e.css_classes||(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&r.classList.add(...e.css_classes)),c.plugins[e.type].trial(r,e),"function"==typeof e.on_load&&e.on_load(),Array.isArray(e.extensions))for(i=0;i<e.extensions.length;i++)c.extensions[e.extensions[i].type].on_load(o.extensions[i].params);c.internal.call_immediate=!1}function g(e,t){if(null===e)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=g(e[r],t);else if("object"==typeof e){var i=Object.keys(e);if(null!=t&&t.nested)for(r=0;r<i.length;r++)"object"==typeof t.nested[i[r]]&&t.nested[i[r]].type!==c.plugins.parameterType.FUNCTION&&(e[i[r]]=g(e[i[r]],t.nested[i[r]]));else for(r=0;r<i.length;r++)e[i[r]]=g(e[i[r]],null)}else if("function"==typeof e)return e();return e}n.webaudio_context=null,"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext),n.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,n.ALL_KEYS="allkeys",n.NO_KEYS="none",n.init=function(i){function m(){void 0===i.timeline&&console.error("No timeline declared in jsPsych.init. Cannot start experiment."),0==i.timeline.length&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),e=null,a=0,d=p=u=l=!(o={}),c.data.reset();var m={display_element:void 0,on_finish:function(e){},on_trial_start:function(e){},on_trial_finish:function(){},on_data_update:function(e){},on_interaction_data_update:function(e){},on_close:function(){},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]};"file:"!=window.location.protocol||!1!==i.override_safe_mode&&void 0!==i.override_safe_mode||(i.use_webaudio=!1,d=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in jsPsych.init. For more information, see: https://www.jspsych.org/overview/running-experiments")),void 0===(s=Object.assign({},m,i)).display_element?(null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",s.display_element=document.querySelector("body")):null===(m=s.display_element instanceof Element?s.display_element:document.querySelector("#"+s.display_element))?console.error("The display_element specified in jsPsych.init() does not exist in the DOM."):s.display_element=m,s.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',t=s.display_element,r=document.querySelector("#jspsych-content"),s.display_element.tabIndex=0,-1==s.display_element.className.indexOf("jspsych-display-element")&&(s.display_element.className+=" jspsych-display-element"),r.className+="jspsych-content",null!==s.experiment_width&&(r.style.width=s.experiment_width+"px"),e=new y({timeline:s.timeline}),c.pluginAPI.initAudio(),c.pluginAPI.reset(s.display_element),c.pluginAPI.createKeyboardEventListeners(s.display_element),c.data.createInteractionListeners(),window.addEventListener("beforeunload",s.on_close),function e(t,r,i){var s=!0;if(void 0!==t.min_width||void 0!==t.min_height){var a=void 0!==t.min_width?t.min_width:0,o=void 0!==t.min_height?t.min_height:0,l=window.innerWidth,u=window.innerHeight;if(l<a||u<o){s=!1;var p=setInterval((function(){var s=window.innerWidth,l=window.innerHeight;s<a||l<o?(l="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+a+"px. Your current width is "+s+"px.</p><p>The minimum height is "+o+"px. Your current height is "+l+"px.</p>",n.getDisplayElement().innerHTML=l):(clearInterval(p),n.getDisplayElement().innerHTML="",e(t,r,i))}),100);return}}if(void 0!==t.audio&&t.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))return s=!1,n.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",void i();s&&r()}(s.exclusions,(function(){!function(){if(0==s.extensions.length)h();else for(var e=0,t=0;t<s.extensions.length;t++){var r=s.extensions[t].params;r=r||{},c.extensions[s.extensions[t].type].initialize(r).then(()=>{++e==s.extensions.length&&h()}).catch(e=>{console.error(e)})}}()}),(function(){}))}"complete"===document.readyState?m():window.addEventListener("load",m)},n.progress=function(){var t=void 0===e?0:e.percentComplete();return{total_trials:void 0===e?void 0:e.length(),current_trial_global:a,percent_complete:t}},n.startTime=function(){return i},n.totalTime=function(){return void 0===i?0:(new Date).getTime()-i.getTime()},n.getDisplayElement=function(){return r},n.getDisplayContainerElement=function(){return t},n.finishTrial=function(e){if(!l){l=!0,void 0!==o.css_classes&&Array.isArray(o.css_classes)&&r.classList.remove(...o.css_classes),c.data.write(e=void 0===e?{}:e);var t=c.data.get().filter({trial_index:a}).values()[0];if("object"==typeof o.save_trial_parameters)for(var i=Object.keys(o.save_trial_parameters),n=0;n<i.length;n++){var u=o.save_trial_parameters[i[n]];!0===u&&(void 0===o[i[n]]?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${i[n]}".`):"function"==typeof o[i[n]]?t[i[n]]=o[i[n]].toString():t[i[n]]=o[i[n]]),!1===u&&"internal_node_id"!==i[n]&&"trial_index"!==i[n]&&delete t[i[n]]}if(Array.isArray(o.extensions))for(n=0;n<o.extensions.length;n++){var p=c.extensions[o.extensions[n].type].on_finish(o.extensions[n].params);Object.assign(t,p)}c.internal.call_immediate=!0,"function"==typeof o.on_finish&&o.on_finish(t),s.on_trial_finish(t),s.on_data_update(t),c.internal.call_immediate=!1,null===typeof o.post_trial_gap||void 0===o.post_trial_gap?0<s.default_iti?setTimeout(m,s.default_iti):m():0<o.post_trial_gap?setTimeout(m,o.post_trial_gap):m()}},n.endExperiment=function(t){e.end_message=t,e.end(),c.pluginAPI.cancelAllKeyboardResponses(),c.pluginAPI.clearAllTimeouts(),n.finishTrial()},n.endCurrentTimeline=function(){e.endActiveNode()},n.currentTrial=function(){return o},n.initSettings=function(){return s},n.currentTimelineNodeID=function(){return e.activeID()},n.timelineVariable=function(t,r){return void 0===r&&(r=!1),c.internal.call_immediate||!0===r?e.timelineVariable(t):function(){return e.timelineVariable(t)}},n.allTimelineVariables=function(){return e.allTimelineVariables()},n.addNodeToEndOfTimeline=function(t,r){e.insert(t)},n.pauseExperiment=function(){u=!0},n.resumeExperiment=function(){u=!1,p&&(p=!1,m())},n.loadFail=function(e){r.innerHTML=e=e||"<p>The experiment failed to load.</p>"},n.getSafeModeStatus=function(){return d};var _=0;return n.setProgressBar=function(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*e+"%",_=e},n.getProgressBarCompleted=function(){return _},document.documentElement.setAttribute("jspsych","present"),n}();function d(e){var t={},r=void 0===e?[]:e;return t.push=function(e){return r.push(e),t},t.join=function(e){return r=r.concat(e.values()),t},t.top=function(){return r.length<=1?t:d([r[r.length-1]])},t.first=function(e){if((e=void 0===e?1:e)<1)throw"You must query with a positive nonzero integer. Please use a \n               different value for n.";return 0==r.length?d([]):(e>r.length&&(e=r.length),d(r.slice(0,e)))},t.last=function(e){if((e=void 0===e?1:e)<1)throw"You must query with a positive nonzero integer. Please use a \n               different value for n.";return 0==r.length?d([]):(e>r.length&&(e=r.length),d(r.slice(r.length-e,r.length)))},t.values=function(){return r},t.count=function(){return r.length},t.readOnly=function(){return d(c.utils.deepCopy(r))},t.addToAll=function(e){for(var i=0;i<r.length;i++)for(var n in e)r[i][n]=e[n];return t},t.addToLast=function(e){if(0!=r.length)for(var i in e)r[r.length-1][i]=e[i];return t},t.filter=function(e){var t;t=Array.isArray(e)?c.utils.deepCopy(e):c.utils.deepCopy([e]);for(var i=[],n=0;n<r.length;n++){for(var s=!1,a=0;a<t.length;a++){for(var o=!0,l=Object.keys(t[a]),u=0;u<l.length;u++)void 0!==r[n][l[u]]&&r[n][l[u]]==t[a][l[u]]||(o=!1);if(o){s=!0;break}}s&&i.push(r[n])}return d(i)},t.filterCustom=function(e){for(var t=[],i=0;i<r.length;i++)e(r[i])&&t.push(r[i]);return d(t)},t.select=function(e){for(var t=[],i=0;i<r.length;i++)void 0!==r[i][e]&&t.push(r[i][e]);var n=function e(){var t={values:[],sum:function(){for(var e=0,r=0;r<t.values.length;r++)e+=t.values[r];return e},mean:function(){return t.sum()/t.count()},median:function(){if(0!=t.values.length){var e=t.values.slice(0).sort((function(e,t){return e-t})),r=Math.floor(e.length/2);return e.length%2==0?(e[r]+e[r-1])/2:e[r]}},min:function(){return Math.min.apply(null,t.values)},max:function(){return Math.max.apply(null,t.values)},count:function(){return t.values.length},variance:function(){for(var e=t.mean(),r=0,i=0;i<t.values.length;i++)r+=Math.pow(t.values[i]-e,2);return r/(t.values.length-1)},sd:function(){var e=t.variance();return e=Math.sqrt(e)},frequencies:function(){for(var e={},r=0;r<t.values.length;r++){var i=t.values[r];void 0===e[i]?e[i]=1:e[i]++}return e},all:function(e){for(var r=0;r<t.values.length;r++)if(!e(t.values[r]))return!1;return!0},subset:function(r){for(var i=[],n=0;n<t.values.length;n++)r(t.values[n])&&i.push(t.values[n]);var s=e();return s.values=i,s}};return t}();return n.values=t,n},t.ignore=function(e){Array.isArray(e)||(e=[e]);for(var t=c.utils.deepCopy(r),i=0;i<t.length;i++)for(var n in e)delete t[i][e[n]];return d(t)},t.uniqueNames=function(){for(var e=[],t=0;t<r.length;t++)for(var i=Object.keys(r[t]),n=0;n<i.length;n++)e.includes(i[n])||e.push(i[n]);return e},t.csv=function(){return function(e){for(var t="object"!=typeof e?JSON.parse(e):e,r="",i="",n=[],s=0,a=0;a<t.length;a++)for(var o in t[a]){var l=o+"";l='"'+l.replace(/"/g,'""')+'",',n.includes(o)||(n[s]=o,r+=l,s++)}for(i+=(r=r.slice(0,-1))+"\r\n",s=0;s<t.length;s++){for(r="",a=0;a<n.length;a++){var u=void 0===t[s][n[a]]?"":t[s][n[a]];"object"==typeof u&&(u=JSON.stringify(u)),r+='"'+(u+"").replace(/"/g,'""')+'",'}i+=(r=r.slice(0,-1))+"\r\n"}return i}(r)},t.json=function(e){return e?JSON.stringify(r,null,"\t"):JSON.stringify(r)},t.localSave=function(e,r){var i;if("JSON"==e||"json"==e)i=t.json();else{if("CSV"!=e&&"csv"!=e)throw new Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');i=t.csv()}!function(e,t){var r=new Blob([e],{type:"text/plain"});e="";e=(void 0!==window.webkitURL?window.webkitURL:window.URL).createObjectURL(r),c.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+t+'" href="'+e+'">click to download</a>'),document.getElementById("jspsych-download-as-text-link").click()}(i,r)},t}function y(){var e=window.location.search.substr(1).split("&");if(""==e)return{};for(var t={},r=0;r<e.length;++r){var i=e[r].split("=",2);1==i.length?t[i[0]]="":t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}return t}function h(e){for(var t,r,i=e.slice(0),n=i.length;n;)r=Math.floor(Math.random()*n--),t=i[n],i[n]=i[r],i[r]=t;return i}c.internal={call_immediate:!1},c.plugins=((l={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEY:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12,TIMELINE:13}}).universalPluginParameters={data:{type:l.parameterType.OBJECT,pretty_name:"Data",default:{},description:"Data to add to this trial (key-value pairs)"},on_start:{type:l.parameterType.FUNCTION,pretty_name:"On start",default:function(){},description:"Function to execute when trial begins"},on_finish:{type:l.parameterType.FUNCTION,pretty_name:"On finish",default:function(){},description:"Function to execute when trial is finished"},on_load:{type:l.parameterType.FUNCTION,pretty_name:"On load",default:function(){},description:"Function to execute after the trial has loaded"},post_trial_gap:{type:l.parameterType.INT,pretty_name:"Post trial gap",default:null,description:"Length of gap between the end of this trial and the start of the next trial"},css_classes:{type:l.parameterType.STRING,pretty_name:"Custom CSS classes",default:null,description:"A list of CSS classes to add to the jsPsych display element for the duration of this trial"}},l),c.extensions={},c.data=(n={},s=d(),a=d(),o={},n.reset=function(){s=d(),a=d()},n.get=function(){return s},n.getInteractionData=function(){return a},n.write=function(e){var t=c.progress(),r=c.currentTrial();t={trial_type:r.type,trial_index:t.current_trial_global,time_elapsed:c.totalTime(),internal_node_id:c.currentTimelineNodeID()},t=Object.assign({},e,r.data,t,o);s.push(t)},n.addProperties=function(e){s.addToAll(e),o=Object.assign({},o,e)},n.addDataToLastTrial=function(e){s.addToLast(e)},n.getDataByTimelineNode=function(e){return s.filterCustom((function(t){return t.internal_node_id.slice(0,e.length)===e}))},n.getLastTrialData=function(){return s.top()},n.getLastTimelineData=function(){var e=n.getLastTrialData().select("internal_node_id").values[0];return void 0===e?d():(e=e.substr(0,e.lastIndexOf("-")),n.getDataByTimelineNode(e))},n.displayData=function(e){"json"!=(e=void 0===e?"json":e.toLowerCase())&&"csv"!=e&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json"),e="json"==e?s.json(!0):s.csv(),c.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=e},n.urlVariables=function(){return i=void 0===i?y():i},n.getURLVariable=function(e){return(i=void 0===i?y():i)[e]},n.createInteractionListeners=function(){function e(){var e={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:c.progress().current_trial_global,time:c.totalTime()};a.push(e),c.initSettings().on_interaction_data_update(e)}window.addEventListener("blur",(function(){var e={event:"blur",trial:c.progress().current_trial_global,time:c.totalTime()};a.push(e),c.initSettings().on_interaction_data_update(e)})),window.addEventListener("focus",(function(){var e={event:"focus",trial:c.progress().current_trial_global,time:c.totalTime()};a.push(e),c.initSettings().on_interaction_data_update(e)})),document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)},n._customInsert=function(e){s=d(e)},n._fullreset=function(){n.reset(),o={}},n),c.turk=((l={}).turkInfo=function(){function e(e,t){return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))?"":e[1]}var t={},r=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(i){t[i]=unescape(e(r,i))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,turk_info=t},l.submitToTurk=function(e){var t=(r=c.turk.turkInfo()).assignmentId,r=r.turkSubmitTo;if(t&&r){var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push(i+"="+escape(e[i]));n.push("assignmentId="+t),r=r+"/mturk/externalSubmit?"+n.join("&"),window.location.href=r}},l),c.randomization=((u={}).repeat=function(e,t,r){var i=Array.isArray(e),n=Array.isArray(t);if(i)if(n){if(e.length!=t.length)if(console.warning("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){for(s=[],a=0;a<e.length;a++)s.push(t);t=s}else t=t.slice(0,e.length)}else{for(var s=[],a=0;a<e.length;a++)s.push(t);t=s}else n?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);var o=[];for(a=0;a<e.length;a++)for(var l=0;l<t[a];l++)null==e[a]||"object"!=typeof e[a]?o.push(e[a]):o.push(Object.assign({},e[a]));return n=h(o),r?function(e){for(var t={},r=0;r<e.length;r++)for(var i=Object.keys(e[r]),n=0;n<i.length;n++)void 0===t[i[n]]&&(t[i[n]]=[]),t[i[n]].push(e[r][i[n]]);return t}(n):n},u.shuffle=function(e){return Array.isArray(e)||console.error("Argument to jsPsych.randomization.shuffle() must be an array."),h(e)},u.shuffleNoRepeats=function(e,t){Array.isArray(e)||console.error("First argument to jsPsych.randomization.shuffleNoRepeats() must be an array."),void 0!==t&&"function"!=typeof t&&console.error("Second argument to jsPsych.randomization.shuffleNoRepeats() must be a function."),void 0===t&&(t=function(e,t){return e===t});for(var r=h(e),i=0;i<r.length-1;i++)if(t(r[i],r[i+1])){for(var n=Math.floor(Math.random()*(r.length-2))+1;t(r[i+1],r[n])||t(r[i+1],r[n+1])||t(r[i+1],r[n-1]);)n=Math.floor(Math.random()*(r.length-2))+1;var s=r[n];r[n]=r[i+1],r[i+1]=s}return r},u.shuffleAlternateGroups=function(e,t){void 0===t&&(t=!1);var r=e.length;if(1==r)return console.warn("jsPsych.randomization.shuffleAlternateGroups was called with only one group. Defaulting to simple shuffle."),u.shuffle(e[0]);for(var i=[],n=0;n<r;n++)i.push(n);t&&(i=u.shuffle(i));var s=[],a=null;for(n=0;n<r;n++)a=null===a?e[n].length:Math.min(a,e[n].length),s.push(u.shuffle(e[n]));var o=[];for(n=0;n<a;n++)for(var l=0;l<i.length;l++)o.push(s[i[l]][n]);return o},u.sampleWithoutReplacement=function(e,t){return Array.isArray(e)||console.error("First argument to jsPsych.randomization.sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),c.randomization.shuffle(e).slice(0,t)},u.sampleWithReplacement=function(e,t,r){Array.isArray(e)||console.error("First argument to jsPsych.randomization.sampleWithReplacement() must be an array");var i=[];if(void 0!==r){r.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");for(var n=0,s=0;s<r.length;s++)n+=r[s];for(s=0;s<r.length;s++)i.push(r[s]/n)}else for(s=0;s<e.length;s++)i.push(1/e.length);var a=[i[0]];for(s=1;s<i.length;s++)a.push(i[s]+a[s-1]);var o=[];for(s=0;s<t;s++){for(var l=Math.random(),u=0;l>a[u];)u++;o.push(e[u])}return o},u.factorial=function(e,t,r){for(var i=Object.keys(e),n=[],s=0;s<e[i[0]].length;s++)n.push({}),n[s][i[0]]=e[i[0]][s];for(s=1;s<i.length;s++){for(var a=e[i[s]],o=n.length,l=0;l<o;l++)for(var p=n[l],c=0;c<a.length;c++){var d={};d[i[s]]=a[c],n.push(Object.assign({},p,d))}n.splice(0,o)}return u.repeat(n,t=void 0===t?1:t,r)},u.randomID=function(e){for(var t="",r=(e=void 0===e?32:e,"0123456789abcdefghjklmnopqrstuvwxyz"),i=0;i<e;i++)t+=r[Math.floor(Math.random()*r.length)];return t},u),c.pluginAPI=function(){function e(e){for(var t=0;t<i.length;t++)i[t].fn(e);n[e.key]=!0}function t(e){n[e.key]=!1}var r={},i=[],n={};r.reset=function(r){i=[],n={},r.removeEventListener("keydown",e),r.removeEventListener("keyup",t)},r.createKeyboardEventListeners=function(r){r.addEventListener("keydown",e),r.addEventListener("keyup",t)},r.getKeyboardResponse=function(e){var t;e.rt_method=void 0===e.rt_method?"performance":e.rt_method,"performance"!=e.rt_method&&"audio"!=e.rt_method&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),e.rt_method="performance"),"performance"==e.rt_method?t=performance.now():"audio"===e.rt_method&&(t=e.audio_context_start_time);var s=void 0!==c.initSettings().case_sensitive_responses&&c.initSettings().case_sensitive_responses,a={type:"keydown",fn:function(o){"performance"==e.rt_method?l=performance.now():"audio"===e.rt_method&&(l=e.audio_context.currentTime);var l,u=l-t,p=(p=e.minimum_valid_rt)||c.initSettings().minimum_valid_rt||0,d=u;"audio"==e.rt_method&&(d*=1e3),d<p||(l=!1,void 0===e.valid_responses||e.valid_responses==c.ALL_KEYS?l=!0:e.valid_responses!=c.NO_KEYS&&(e.valid_responses.includes(o.key)&&(l=!0),s||(u=e.valid_responses.map((function(e){return e.toLowerCase()})),p=o.key.toLowerCase(),u.includes(p)&&(l=!0))),void 0!==e.allow_held_key&&e.allow_held_key||!l||(void 0!==n[o.key]&&1==n[o.key]&&(l=!1),s||void 0===n[o.key.toLowerCase()]||1!=n[o.key.toLowerCase()]||(l=!1)),l&&(o.preventDefault(),o=o.key,s||(o=o.toLowerCase()),e.callback_function({key:o,rt:d}),i.includes(a)&&(e.persist||r.cancelKeyboardResponse(a))))}};return i.push(a),a},r.cancelKeyboardResponse=function(e){i.includes(e)&&i.splice(i.indexOf(e),1)},r.cancelAllKeyboardResponses=function(){i=[]},r.convertKeyCharacterToKeyCode=function(e){var t;return console.warn("Warning: The jsPsych.pluginAPI.convertKeyCharacterToKeyCode function will be removed in future jsPsych releases. We recommend removing this function and using strings to identify/compare keys."),e=e.toLowerCase(),void 0!==s[e]?s[e]:t},r.convertKeyCodeToKeyCharacter=function(e){for(var t in console.warn("Warning: The jsPsych.pluginAPI.convertKeyCodeToKeyCharacter function will be removed in future jsPsych releases. We recommend removing this function and using strings to identify/compare keys."),Object.keys(s))if(s[Object.keys(s)[t]]==e)return Object.keys(s)[t]},r.compareKeys=function(e,t){return Number.isFinite(e)||Number.isFinite(t)?(e="string"==typeof e?r.convertKeyCharacterToKeyCode(e):e)==(t="string"==typeof t?r.convertKeyCharacterToKeyCode(t):t):"string"==typeof e&&"string"==typeof t?void 0!==c.initSettings().case_sensitive_responses&&c.initSettings().case_sensitive_responses?e==t:e.toLowerCase()==t.toLowerCase():(null!==e||"string"!=typeof t&&!Number.isFinite(t))&&(null!==t||"string"!=typeof e&&!Number.isFinite(e))&&(null===e&&null===t||void console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be numeric key codes, key strings, or null."))};var s={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},a=[];r.setTimeout=function(e,t){return t=setTimeout(e,t),a.push(t),t},r.clearAllTimeouts=function(){for(var e=0;e<a.length;e++)clearTimeout(a[e]);a=[]};var o={};r.getVideoBuffer=function(e){return o[e]};var l=null,u=[];r.initAudio=function(){l=!0===c.initSettings().use_webaudio?c.webaudio_context:null},r.audioContext=function(){return null!==l&&"running"!==l.state&&l.resume(),l},r.getAudioBuffer=function(e){return new Promise((function(t,i){void 0===u[e]||"tmp"==u[e]?r.preloadAudio([e],(function(){t(u[e])}),(function(){}),(function(e){i(e.error)})):t(u[e])}))};var p=[],d=[],y={};return r.preloadAudio=function(e,t,i,n){e=c.utils.flatten(e),e=c.utils.unique(e);var s=0,a=void 0===i?function(){}:i,o=void 0===t?function(){}:t,p=void 0===n?function(){}:n;if(0!=e.length)for(var y=0;y<e.length;y++){var h=e[y];void 0!==u[h]?(s++,a(h),s==e.length&&o()):(u[h]="tmp",(null!==r.audioContext()?function(t){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){l.decodeAudioData(r.response,(function(r){u[t]=r,s++,a(t),s==e.length&&o()}),(function(e){p({source:t,error:e})}))},r.onerror=function(e){404==this.status&&(e="404"),p({source:t,error:e})},r.onloadend=function(e){404==this.status&&p({source:t,error:"404"})},r.send(),d.push(r)}:function(t){var r=new Audio;r.addEventListener("canplaythrough",(function i(){u[t]=r,s++,a(t),s==e.length&&o(),r.removeEventListener("canplaythrough",i)})),r.addEventListener("error",(function e(t){p({source:r.src,error:t}),r.removeEventListener("error",e)})),r.addEventListener("abort",(function e(t){p({source:r.src,error:t}),r.removeEventListener("abort",e)})),r.src=t,d.push(r)})(h))}else o()},r.preloadImages=function(e,t,r,i){e=c.utils.flatten(e),e=c.utils.unique(e);var n=0,s=void 0===t?function(){}:t,a=void 0===r?function(){}:r,o=void 0===i?function(){}:i;if(0!==e.length)for(var l=0;l<e.length;l++)!function(t){var r=new Image;r.onload=function(){n++,a(r.src),n===e.length&&s()},r.onerror=function(e){o({source:r.src,error:e})},r.src=t,y[t]=r,d.push(r)}(e[l]);else s()},r.preloadVideo=function(e,t,r,i){e=c.utils.flatten(e),e=c.utils.unique(e);var n=0,s=t||function(){},a=r||function(){},l=void 0===i?function(){}:i;if(0!==e.length)for(var u=0;u<e.length;u++)!function(t,r){r=r||1,(r=new XMLHttpRequest).open("GET",t,!0),r.responseType="blob",r.onload=function(){var r;200!==this.status&&0!==this.status||(r=this.response,o[t]=URL.createObjectURL(r),n++,a(t),n===e.length&&s())},r.onerror=function(e){404==this.status&&(e="404"),l({source:t,error:e})},r.onloadend=function(e){404==this.status&&l({source:t,error:"404"})},r.send(),d.push(r)}(e[u]);else s()},r.registerPreload=function(e,t,r){-1===["audio","image","video"].indexOf(r)&&console.error("Invalid media_type parameter for jsPsych.pluginAPI.registerPreload. Please check the plugin file."),p.push({plugin:e,parameter:t,media_type:r})},r.getAutoPreloadList=function(e){void 0===e&&(e=c.initSettings().timeline);for(var t=[],r=[],i=[],n=0;n<p.length;n++)for(var s=p[n].plugin,a=p[n].parameter,o=p[n].media_type,l=function e(t,r,i){for(var n=[],s=0;s<t.length;s++){var a=t[s];Array.isArray(a.timeline)?(void 0!==a.type&&(i=a.type),n=n.concat(e(a.timeline,r,i))):(void 0!==a.type&&a.type==r&&n.push(a),void 0===a.type&&i==r&&n.push(Object.assign({},{type:r},a)))}return n}(e,s),u=0;u<l.length;u++)void 0===l[u][a]?(console.warn("jsPsych failed to auto preload one or more files:"),console.warn("no parameter called "+a+" in plugin "+s)):"function"!=typeof l[u][a]&&("image"===o?t=t.concat(c.utils.flatten([l[u][a]])):"audio"===o?r=r.concat(c.utils.flatten([l[u][a]])):"video"===o&&(i=i.concat(c.utils.flatten([l[u][a]]))));return t=c.utils.unique(c.utils.flatten(t)),r=c.utils.unique(c.utils.flatten(r)),i=c.utils.unique(c.utils.flatten(i)),{images:t=t.filter((function(e){return 0!=e&&null!=e})),audio:r=r.filter((function(e){return 0!=e&&null!=e})),video:i=i.filter((function(e){return 0!=e&&null!=e}))}},r.cancelPreloads=function(){for(var e=0;e<d.length;e++)d[e].onload=function(){},d[e].onerror=function(){},d[e].oncanplaythrough=function(){},d[e].onabort=function(){};d=[]},r.hardware=function(e){e=new CustomEvent("jspsych",{detail:e}),document.dispatchEvent(e)},r.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(e){r.hardwareConnected=!0})),r}(),c.utils=p={flatten:function(e,t){t=void 0===t?[]:t;for(var r=0;r<e.length;r++)Array.isArray(e[r])?p.flatten(e[r],t):t.push(e[r]);return t},unique:function(e){for(var t=[],r=0;r<e.length;r++)e.indexOf(e[r])==r&&t.push(e[r]);return t},deepCopy:function(e){if(!e)return e;if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(p.deepCopy(e[r]));return t}if("object"!=typeof e)return e;for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=p.deepCopy(e[i]));return t}},"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),r=parseInt(t.length,10)||0;if(0===r)return!1;var i,n,s=parseInt(arguments[1],10)||0;for(0<=s?i=s:(i=r+s)<0&&(i=0);i<r;){if(e===(n=t[i])||e!=e&&n!=n)return!0;i++}return!1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),void 0===(l="function"==typeof(l=c)?l.apply(t,[]):l)||(e.exports=l)},function(e,t,r){"use strict";e.exports=r(33)},function(e,t){var r;jsPsych.plugins.animation=(r={},jsPsych.pluginAPI.registerPreload("animation","stimuli","image"),r.info={name:"animation",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"The images to be displayed."},frame_time:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame time",default:250,description:"Duration to display each image."},frame_isi:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame gap",default:0,description:"Length of gap to be shown between each image."},sequence_reps:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sequence repetitions",default:1,description:"Number of times to show entire sequence."},choices:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Choices",default:jsPsych.ALL_KEYS,array:!0,description:"Keys subject uses to respond to stimuli."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below stimulus."},render_on_canvas:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Render on canvas",default:!0,description:"If true, the images will be drawn onto a canvas element (prevents blank screen between consecutive images in some browsers).If false, the image will be shown via an img element."}}},r.trial=function(e,t){var r=t.frame_time+t.frame_isi,i=-1,n=0,s=performance.now(),a=[],o=[],l="";if(t.render_on_canvas){if(e.hasChildNodes())for(;e.firstChild;)e.removeChild(e.firstChild);var u=document.createElement("canvas");u.id="jspsych-animation-image",u.style.margin=0,u.style.padding=0,e.insertBefore(u,null);var p=u.getContext("2d")}var c=setInterval((function(){var r=!0;t.render_on_canvas||(e.innerHTML=""),++i==t.stimuli.length&&(i=0,++n>=t.sequence_reps&&(function(){jsPsych.pluginAPI.cancelKeyboardResponse(d);var e={animation_sequence:a,response:o};jsPsych.finishTrial(e)}(),clearInterval(c),r=!1)),r&&function(){var r;t.render_on_canvas?(e.querySelector("#jspsych-animation-image").style.visibility="visible",(r=new Image).src=t.stimuli[i],u.height=r.naturalHeight,u.width=r.naturalWidth,p.drawImage(r,0,0),null!==t.prompt&0==i&0==n&&e.insertAdjacentHTML("beforeend",t.prompt)):(e.innerHTML='<img src="'+t.stimuli[i]+'" id="jspsych-animation-image"></img>',null!==t.prompt&&(e.innerHTML+=t.prompt)),l=t.stimuli[i],a.push({stimulus:t.stimuli[i],time:performance.now()-s}),0<t.frame_isi&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-animation-image").style.visibility="hidden",l="blank",a.push({stimulus:"blank",time:performance.now()-s})}),t.frame_time)}()}),r),d=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(t){o.push({key_press:t.key,rt:t.rt,stimulus:l}),e.querySelector("#jspsych-animation-image").className+=" responded"},valid_responses:t.choices,rt_method:"performance",persist:!0,allow_held_key:!1})},r)},function(e,t){var r;jsPsych.plugins["audio-button-response"]=(r={},jsPsych.pluginAPI.registerPreload("audio-button-response","stimulus","audio"),r.info={name:"audio-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The audio to be played."},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The button labels."},button_html:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"Custom button. Can make your own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"Vertical margin of button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"Horizontal margin of button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Trial ends after audio",default:!1,description:"If true, then the trial will end as soon as the audio file finishes playing."},response_allowed_while_playing:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response allowed while playing",default:!0,description:"If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted."}}},r.trial=function(e,t){var r,i,n=jsPsych.pluginAPI.audioContext(),s={rt:null,button:null};function a(){jsPsych.pluginAPI.clearAllTimeouts(),null!==n?r.stop():r.pause(),r.removeEventListener("ended",a),r.removeEventListener("ended",u);var i={rt:s.rt,stimulus:t.stimulus,response:s.button};e.innerHTML="",jsPsych.finishTrial(i)}function o(e){var r,o=e.currentTarget.getAttribute("data-choice");r=o,o=(e=performance.now())-i,null!==n&&(e=n.currentTime,o=Math.round(1e3*(e-i))),s.button=parseInt(r),s.rt=o,l(),t.response_ends_trial&&a()}function l(){for(var e=document.querySelectorAll(".jspsych-audio-button-response-button"),t=0;t<e.length;t++){var r=e[t].querySelector("button");r&&(r.disabled=!0),e[t].removeEventListener("click",o)}}function u(){for(var e=document.querySelectorAll(".jspsych-audio-button-response-button"),t=0;t<e.length;t++){var r=e[t].querySelector("button");r&&(r.disabled=!1),e[t].addEventListener("click",o)}}jsPsych.pluginAPI.getAudioBuffer(t.stimulus).then((function(s){null!==n?((r=n.createBufferSource()).buffer=s,r.connect(n.destination)):(r=s).currentTime=0,function(){t.trial_ends_after_audio&&r.addEventListener("ended",a),!t.response_allowed_while_playing&!t.trial_ends_after_audio&&r.addEventListener("ended",u);var s=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?s=t.button_html:console.error("Error in audio-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var o=0;o<t.choices.length;o++)s.push(t.button_html);var p='<div id="jspsych-audio-button-response-btngroup">';for(o=0;o<t.choices.length;o++){var c=s[o].replace(/%choice%/g,t.choices[o]);p+='<div class="jspsych-audio-button-response-button" style="cursor: pointer; display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-audio-button-response-button-'+o+'" data-choice="'+o+'">'+c+"</div>"}p+="</div>",null!==t.prompt&&(p+=t.prompt),e.innerHTML=p,(t.response_allowed_while_playing?u:l)(),i=performance.now(),null!==n?(i=n.currentTime,r.start(i)):r.play(),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){a()}),t.trial_duration)}()})).catch((function(e){console.error(`Failed to load audio file "${t.stimulus}". Try checking the file path. We recommend using the preload plugin to load audio files.`),console.error(e)}))},r)},function(e,t){var r;jsPsych.plugins["audio-keyboard-response"]=(r={},jsPsych.pluginAPI.registerPreload("audio-keyboard-response","stimulus","audio"),r.info={name:"audio-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The audio to be played."},choices:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Choices",array:!0,default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Trial ends after audio",default:!1,description:"If true, then the trial will end as soon as the audio file finishes playing."},response_allowed_while_playing:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response allowed while playing",default:!0,description:"If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted."}}},r.trial=function(e,t){var r,i,n=jsPsych.pluginAPI.audioContext(),s={rt:null,key:null};function a(){jsPsych.pluginAPI.clearAllTimeouts(),null!==n?r.stop():r.pause(),r.removeEventListener("ended",a),r.removeEventListener("ended",l),jsPsych.pluginAPI.cancelAllKeyboardResponses();var i={rt:s.rt,stimulus:t.stimulus,response:s.key};e.innerHTML="",jsPsych.finishTrial(i)}function o(e){null==s.key&&(s=e),t.response_ends_trial&&a()}function l(){null!==n?jsPsych.pluginAPI.getKeyboardResponse({callback_function:o,valid_responses:t.choices,rt_method:"audio",persist:!1,allow_held_key:!1,audio_context:n,audio_context_start_time:i}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:o,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})}jsPsych.pluginAPI.getAudioBuffer(t.stimulus).then((function(s){null!==n?((r=n.createBufferSource()).buffer=s,r.connect(n.destination)):(r=s).currentTime=0,t.trial_ends_after_audio&&r.addEventListener("ended",a),null!==t.prompt&&(e.innerHTML=t.prompt),null!==n?(i=n.currentTime,r.start(i)):r.play(),t.response_allowed_while_playing?l():t.trial_ends_after_audio||r.addEventListener("ended",l),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){a()}),t.trial_duration)})).catch((function(e){console.error(`Failed to load audio file "${t.stimulus}". Try checking the file path. We recommend using the preload plugin to load audio files.`),console.error(e)}))},r)},function(e,t){var r;jsPsych.plugins["audio-slider-response"]=(r={},jsPsych.pluginAPI.registerPreload("audio-slider-response","stimulus","audio"),r.info={name:"audio-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},slider_start:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},response_allowed_while_playing:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response allowed while playing",default:!0,description:"If true, then responses are allowed while the audio is playing. If false, then the audio must finish playing before a response is accepted."}}},r.trial=function(e,t){var r,i,n,s=jsPsych.pluginAPI.audioContext();function a(){document.querySelector("#jspsych-audio-slider-response-response").disabled=!1,t.require_movement||(document.querySelector("#jspsych-audio-slider-response-next").disabled=!1)}function o(){jsPsych.pluginAPI.clearAllTimeouts(),null!==s?r.stop():r.pause(),r.removeEventListener("ended",o),r.removeEventListener("ended",a);var i={rt:n.rt,stimulus:t.stimulus,slider_start:t.slider_start,response:n.response};e.innerHTML="",jsPsych.finishTrial(i)}jsPsych.pluginAPI.getAudioBuffer(t.stimulus).then((function(l){null!==s?((r=s.createBufferSource()).buffer=l,r.connect(s.destination)):(r=l).currentTime=0,function(){t.trial_ends_after_audio&&r.addEventListener("ended",o),!t.response_allowed_while_playing&!t.trial_ends_after_audio&&r.addEventListener("ended",a);var l='<div id="jspsych-audio-slider-response-wrapper" style="margin: 100px 0px;">';l+='<div class="jspsych-audio-slider-response-container" style="position:relative; margin: 0 auto 3em auto; width:',null!==t.slider_width?l+=t.slider_width+"px;":l+="auto;",l+='">',l+='<input type="range" class="jspsych-slider" value="'+t.slider_start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" id="jspsych-audio-slider-response-response"',t.response_allowed_while_playing||(l+=" disabled"),l+="></input><div>";for(var u=0;u<t.labels.length;u++){var p=100/(t.labels.length-1),c=u*(100/(t.labels.length-1));l+='<div style="border: 1px solid transparent; display: inline-block; position: absolute; left:calc('+c+"% - ("+p+"% / 2) - "+(c-50)/50*100*7.5/100+"px); text-align: center; width: "+p+'%;">',l+='<span style="text-align: center; font-size: 80%;">'+t.labels[u]+"</span>",l+="</div>"}l+="</div>",l+="</div>",l+="</div>",null!==t.prompt&&(l+=t.prompt);var d="";t.require_movement|!t.response_allowed_while_playing&&(d="disabled"),l+='<button id="jspsych-audio-slider-response-next" class="jspsych-btn" '+d+">"+t.button_label+"</button>",e.innerHTML=l,n={rt:null,response:null},t.response_allowed_while_playing||(e.querySelector("#jspsych-audio-slider-response-response").disabled=!0,e.querySelector("#jspsych-audio-slider-response-next").disabled=!0),t.require_movement&&e.querySelector("#jspsych-audio-slider-response-response").addEventListener("click",(function(){e.querySelector("#jspsych-audio-slider-response-next").disabled=!1})),e.querySelector("#jspsych-audio-slider-response-next").addEventListener("click",(function(){var r,a=(r=performance.now())-i;null!==s&&(r=s.currentTime,a=Math.round(1e3*(r-i))),n.rt=a,n.response=e.querySelector("#jspsych-audio-slider-response-response").valueAsNumber,t.response_ends_trial?o():e.querySelector("#jspsych-audio-slider-response-next").disabled=!0})),i=performance.now(),null!==s?(i=s.currentTime,r.start(i)):r.play(),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){o()}),t.trial_duration)}()})).catch((function(e){console.error(`Failed to load audio file "${t.stimulus}". Try checking the file path. We recommend using the preload plugin to load audio files.`),console.error(e)}))},r)},function(e,t){var r;jsPsych.plugins["call-function"]=((r={}).info={name:"call-function",description:"",parameters:{func:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Function",default:void 0,description:"Function to call"},async:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Asynchronous",default:!1,description:"Is the function call asynchronous?"}}},r.trial=function(e,t){var r;function i(){var e={value:r};jsPsych.finishTrial(e)}t.post_trial_gap=0,t.async?t.func((function(e){r=e,i()})):(r=t.func(),i())},r)},function(e,t){var r;jsPsych.plugins["categorize-html"]=((r={}).info={name:"categorize-html",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML content to be displayed."},key_answer:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key answer",default:void 0,description:"The key to indicate the correct response."},choices:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Choices",default:jsPsych.ALL_KEYS,array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer",default:null,description:"Label that is associated with the correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text",default:"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Incorrect text",default:"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct button press",default:!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},show_stim_with_feedback:{type:jsPsych.plugins.parameterType.BOOL,default:!0,no_function:!1,description:""},show_feedback_on_timeout:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout",default:!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Timeout message",default:"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration",default:2e3,description:"How long to show feedback."}}},r.trial=function(e,t){function r(r){jsPsych.pluginAPI.clearAllTimeouts(),jsPsych.pluginAPI.cancelAllKeyboardResponses();var s=!1;jsPsych.pluginAPI.compareKeys(t.key_answer,r.key)&&(s=!0),i={rt:r.rt,correct:s,stimulus:t.stimulus,response:r.key},e.innerHTML="",function(r,i){var s;i&&!t.show_feedback_on_timeout?e.innerHTML+=t.timeout_message:(t.show_stim_with_feedback&&(e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>"),"",s=(r?t.correct_text:t.incorrect_text).replace("%ANS%",t.text_answer),e.innerHTML+=s),t.force_correct_button_press&&!1===r&&(i&&t.show_feedback_on_timeout||!i)?jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){n()},valid_responses:[t.key_answer],rt_method:"performance",persist:!1,allow_held_key:!1}):jsPsych.pluginAPI.setTimeout((function(){n()}),t.feedback_duration)}(s,null==r.rt)}e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>",null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.prompt&&(e.innerHTML+=t.prompt);var i={};function n(){e.innerHTML="",jsPsych.finishTrial(i)}jsPsych.pluginAPI.getKeyboardResponse({callback_function:r,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){r({key:null,rt:null})}),t.trial_duration)},r)},function(e,t){var r;jsPsych.plugins["external-html"]=((r={}).info={name:"external-html",description:"",parameters:{url:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"URL",default:void 0,description:"The url of the external html page"},cont_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Continue key",default:null,description:"The key to continue to the next page."},cont_btn:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Continue button",default:null,description:"The button to continue to the next page."},check_fn:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Check function",default:function(){return!0},description:""},force_refresh:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force refresh",default:!1,description:"Refresh page."},execute_script:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Execute scripts",default:!1,description:"If true, JS scripts on the external html file will be executed."}}},r.trial=function(e,t){var r,i,n,s=t.url;t.force_refresh&&(s=t.url+"?t="+performance.now()),r=e,s=s,i=function(){function r(){var r;t.check_fn&&!t.check_fn(e)||(t.cont_key&&e.removeEventListener("keydown",i),r={rt:performance.now()-n,url:t.url},e.innerHTML="",jsPsych.finishTrial(r))}var i,n=performance.now();if(t.execute_script)for(const t of e.getElementsByTagName("script")){const e=document.createElement("script");e.text=t.text,t.parentNode.replaceChild(e,t)}t.cont_btn&&e.querySelector("#"+t.cont_btn).addEventListener("click",r),t.cont_key&&e.addEventListener("keydown",i=function(e){jsPsych.pluginAPI.compareKeys(e.key,t.cont_key)&&r()})},(n=new XMLHttpRequest).open("GET",s,!0),n.onload=function(){200!=n.status&&0!=n.status||(r.innerHTML=n.responseText,i())},n.send()},r)},function(e,t){function r(e,t,r){var i=(t-e)/(r-1);let n=[];for(let t=0;t<r;t++)n.push(e+i*t);return n}var i;jsPsych.plugins["free-sort"]=(i={},jsPsych.pluginAPI.registerPreload("free-sort","stimuli","image"),i.info={name:"free-sort",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"items to be displayed."},stim_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus height",default:100,description:"Height of items in pixels."},stim_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus width",default:100,description:"Width of items in pixels"},scale_factor:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Stimulus scaling factor",default:1.5,description:"How much larger to make the stimulus while moving (1 = no scaling)"},sort_area_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sort area height",default:700,description:"The height in pixels of the container that subjects can move the stimuli in."},sort_area_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sort area width",default:700,description:"The width in pixels of the container that subjects can move the stimuli in."},sort_area_shape:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Sort area shape",options:["square","ellipse"],default:"ellipse",description:"The shape of the sorting area"},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:"",description:"It can be used to provide a reminder about the action the subject is supposed to take."},prompt_location:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Prompt location",options:["above","below"],default:"above",description:'Indicates whether to show prompt "above" or "below" the sorting area.'},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to continue to the next trial."},change_border_background_color:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Change border background color",default:!0,description:"If true, the sort area border color will change while items are being moved in and out of the sort area, and the background color will change once all items have been moved into the sort area. If false, the border will remain black and the background will remain white throughout the trial."},border_color_in:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Border color - in",default:"#a1d99b",description:"If change_border_background_color is true, the sort area border will change to this color when an item is being moved into the sort area, and the background will change to this color when all of the items have been moved into the sort area."},border_color_out:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Border color - out",default:"#fc9272",description:"If change_border_background_color is true, this will be the color of the sort area border when there are one or more items that still need to be moved into the sort area."},border_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Border width",default:null,description:"The width in pixels of the border around the sort area. If null, the border width defaults to 3% of the sort area height."},counter_text_unfinished:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Counter text unfinished",default:"You still need to place %n% item%s% inside the sort area.",description:'Text to display when there are one or more items that still need to be placed in the sort area. If "%n%" is included in the string, it will be replaced with the number of items that still need to be moved inside. If "%s%" is included in the string, a "s" will be included when the number of items remaining is greater than one.'},counter_text_finished:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Counter text finished",default:"All items placed. Feel free to reposition items if necessary.",description:"Text that will take the place of the counter_text_unfinished text when all items have been moved inside the sort area."},stim_starts_inside:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Stim starts inside",default:!1,description:"If false, the images will be positioned to the left and right of the sort area when the trial loads. If true, the images will be positioned at random locations inside the sort area when the trial loads."},column_spread_factor:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"column spread factor",default:1,description:"When the images appear outside the sort area, this determines the x-axis spread of the image columns. Default value is 1. Values less than 1 will compress the image columns along the x-axis, and values greater than 1 will spread them farther apart."}}},i.trial=function(e,t){var i=performance.now();0==t.change_border_background_color&&(t.border_color_out="#000000"),null==t.border_width&&(t.border_width=.03*t.sort_area_height);let n='<div id="jspsych-free-sort-arena" class="jspsych-free-sort-arena" style="position: relative; width:'+t.sort_area_width+"px; height:"+t.sort_area_height+'px; margin: auto;"</div>';n+='<div id="jspsych-free-sort-border" class="jspsych-free-sort-border" style="position: relative; width:'+.94*t.sort_area_width+"px; height:"+.94*t.sort_area_height+"px; border:"+t.border_width+"px solid "+t.border_color_out+"; margin: auto; line-height: 0em; ","ellipse"==t.sort_area_shape?n+='webkit-border-radius: 50%; moz-border-radius: 50%; border-radius: 50%"></div>':n+='webkit-border-radius: 0%; moz-border-radius: 0%; border-radius: 0%"></div>';var s='<div style="line-height: 1.0em;">'+t.prompt+'<p id="jspsych-free-sort-counter" style="display: inline-block;">'+v(t.stimuli.length)+"</p></div>";"below"==t.prompt_location?n+=s:n=s+n,n+='<div><button id="jspsych-free-sort-done-btn" class="jspsych-btn" style="margin-top: 5px; margin-bottom: 15px; visibility: hidden;">'+t.button_label+"</button></div>",e.innerHTML=n;let a=[];if(!t.stim_starts_inside){let e=Math.ceil(Math.sqrt(t.stimuli.length));e%2!=0&&(e+=1);var o=[],l=[];for(const i of r(0,t.sort_area_width-t.stim_width,e))for(const n of r(0,t.sort_area_height-t.stim_height,e))i>.5*(t.sort_area_width-t.stim_width)?o.push({x:i+t.sort_area_width*(.5*t.column_spread_factor),y:n}):l.push({x:i-t.sort_area_width*(.5*t.column_spread_factor),y:n});for(;o.length+l.length<t.stimuli.length;)o=o.concat(o),l=l.concat(l);l=l.reverse(),t.stimuli=function(e){let t,r,i=e.length;for(;0!==i;)r=Math.floor(Math.random()*i),--i,t=e[i],e[i]=e[r],e[r]=t;return e}(t.stimuli)}let u=[];for(let r=0;r<t.stimuli.length;r++){var p=t.stim_starts_inside?function(e,t){return{x:e=Math.floor(Math.random()*(e-1)),y:t=Math.floor(Math.random()*(t-1))}}(t.sort_area_width-t.stim_width,t.sort_area_height-t.stim_height):(r%2==0?o:l)[Math.floor(.5*r)];e.querySelector("#jspsych-free-sort-arena").innerHTML+='<img src="'+t.stimuli[r]+'" data-src="'+t.stimuli[r]+'" class="jspsych-free-sort-draggable" draggable="false" id="jspsych-free-sort-draggable-'+r+'" style="position: absolute; cursor: move; width:'+t.stim_width+"px; height:"+t.stim_height+"px; top:"+p.y+"px; left:"+p.x+'px;"></img>',a.push({src:t.stimuli[r],x:p.x,y:p.y}),t.stim_starts_inside?u.push(!0):u.push(!1)}let c=[],d=!1;const y=e.querySelectorAll(".jspsych-free-sort-draggable"),h=e.querySelector("#jspsych-free-sort-border"),m=e.querySelector("#jspsych-free-sort-done-btn");u.some(Boolean)&&t.change_border_background_color&&(h.style.borderColor=t.border_color_in),u.every(Boolean)&&(t.change_border_background_color&&(h.style.background=t.border_color_in),m.style.visibility="visible",e.querySelector("#jspsych-free-sort-counter").innerHTML=t.counter_text_finished);let f="mousedown",g="mousemove",_="mouseup";void 0!==document.ontouchend&&(f="touchstart",g="touchmove",_="touchend");for(let r=0;r<y.length;r++)y[r].addEventListener(f,(function(r){let i=r.pageX,n=r.pageY;var s;void 0!==document.ontouchend&&(r.preventDefault(),i=(s=r.changedTouches[0]).pageX,n=s.pageY);let a=i-r.currentTarget.offsetLeft,o=n-r.currentTarget.offsetTop-window.scrollY,l=r.currentTarget;function p(r){let i=r.clientX,n=r.clientY;void 0!==document.ontouchend&&(i=(s=r.changedTouches[0]).clientX,n=s.clientY),d=function(e,t,r,i,n,s,a){return result=a?Math.abs(e-r)<=n&&Math.abs(t-i)<=s:(e-r)*(e-r)*(s*s)+(t-i)*(t-i)*(n*n)<=n*n*(s*s),result}(i-a,n-o,.5*t.sort_area_width-.5*t.stim_width,.5*t.sort_area_height-.5*t.stim_height,.5*t.sort_area_width,.5*t.sort_area_height,"square"==t.sort_area_shape),l.style.top=Math.min(t.sort_area_height-.5*t.stim_height,Math.max(.5*-t.stim_height,n-o))+"px",l.style.left=Math.min(1.5*t.sort_area_width-t.stim_width,Math.max(.5*-t.sort_area_width,i-a))+"px",t.change_border_background_color&&(h.style.borderColor=d?t.border_color_in:t.border_color_out,h.style.background="None");var s=l.id.split("jspsych-free-sort-draggable-")[1];u.splice(s,!0,d),u.every(Boolean)?(t.change_border_background_color&&(h.style.background=t.border_color_in),m.style.visibility="visible",e.querySelector("#jspsych-free-sort-counter").innerHTML=t.counter_text_finished):(h.style.background="none",m.style.visibility="hidden",e.querySelector("#jspsych-free-sort-counter").innerHTML=v(u.length-u.filter(Boolean).length))}l.style.transform="scale("+t.scale_factor+","+t.scale_factor+")",document.addEventListener(g,p),document.addEventListener(_,(function e(r){document.removeEventListener(g,p),l.style.transform="scale(1, 1)",t.change_border_background_color&&(u.every(Boolean)?(h.style.background=t.border_color_in,h.style.borderColor=t.border_color_in):(h.style.background="none",h.style.borderColor=t.border_color_out)),c.push({src:l.dataset.src,x:l.offsetLeft,y:l.offsetTop}),document.removeEventListener(_,e)}))}));function v(e){for(var r="",i=t.counter_text_unfinished.split("%"),n=0;n<i.length;n++)n%2==0?r+=i[n]:"n"==i[n]?r+=e.toString():"s"==i[n]&&1<e&&(r+="s");return r}e.querySelector("#jspsych-free-sort-done-btn").addEventListener("click",(function(){if(u.every(Boolean)){var t=performance.now()-i,r=e.querySelectorAll(".jspsych-free-sort-draggable");let n=[];for(let e=0;e<r.length;e++)n.push({src:r[e].dataset.src,x:parseInt(r[e].style.left),y:parseInt(r[e].style.top)});t={init_locations:a,moves:c,final_locations:n,rt:t},e.innerHTML="",jsPsych.finishTrial(t)}}))},i)},function(e,t){var r;jsPsych.plugins.fullscreen=((r={}).info={name:"fullscreen",description:"",parameters:{fullscreen_mode:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1,description:"If true, experiment will enter fullscreen mode. If false, the browser will exit fullscreen mode."},message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1,description:"HTML content to display above the button to enter fullscreen mode."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"The text that appears on the button to enter fullscreen."},delay_after:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Delay after",default:1e3,array:!1,description:"The length of time to delay after entering fullscreen mode before ending the trial."}}},r.trial=function(e,t){var r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element;function i(){e.innerHTML="",jsPsych.pluginAPI.setTimeout((function(){jsPsych.finishTrial({success:!r})}),t.delay_after)}r?i():t.fullscreen_mode?(e.innerHTML=t.message+'<button id="jspsych-fullscreen-btn" class="jspsych-btn">'+t.button_label+"</button>",e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),i()}))):((document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),i())},r)},function(e,t){var r;jsPsych.plugins["html-button-response"]=((r={}).info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},r.trial=function(e,t){var r='<div id="jspsych-html-button-response-stimulus">'+t.stimulus+"</div>",i=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?i=t.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var n=0;n<t.choices.length;n++)i.push(t.button_html);for(r+='<div id="jspsych-html-button-response-btngroup">',n=0;n<t.choices.length;n++){var s=i[n].replace(/%choice%/g,t.choices[n]);r+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-html-button-response-button-'+n+'" data-choice="'+n+'">'+s+"</div>"}r+="</div>",null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var a=performance.now();for(n=0;n<t.choices.length;n++)e.querySelector("#jspsych-html-button-response-button-"+n).addEventListener("click",(function(r){!function(r){var i=performance.now()-a;o.button=parseInt(r),o.rt=i,e.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var n=document.querySelectorAll(".jspsych-html-button-response-button button"),s=0;s<n.length;s++)n[s].setAttribute("disabled","disabled");t.response_ends_trial&&l()}(r.currentTarget.getAttribute("data-choice"))}));var o={rt:null,button:null};function l(){jsPsych.pluginAPI.clearAllTimeouts();var r={rt:o.rt,stimulus:t.stimulus,response:o.button};e.innerHTML="",jsPsych.finishTrial(r)}null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){l()}),t.trial_duration)},r)},function(e,t){var r;jsPsych.plugins["html-keyboard-response"]=((r={}).info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEY,array:!0,pretty_name:"Choices",default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},r.trial=function(e,t){var r='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";function i(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==n&&jsPsych.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,stimulus:t.stimulus,response:s.key};e.innerHTML="",jsPsych.finishTrial(r)}null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var n,s={rt:null,key:null};t.choices!=jsPsych.NO_KEYS&&(n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==s.key&&(s=r),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},r)},function(e,t){var r;jsPsych.plugins["html-slider-response"]=((r={}).info={name:"html-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},slider_start:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."}}},r.trial=function(e,t){var r='<div id="jspsych-html-slider-response-wrapper" style="margin: 100px 0px;">';r+='<div id="jspsych-html-slider-response-stimulus">'+t.stimulus+"</div>",r+='<div class="jspsych-html-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',null!==t.slider_width?r+="width:"+t.slider_width+"px;":r+="width:auto;",r+='">',r+='<input type="range" class="jspsych-slider" value="'+t.slider_start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" id="jspsych-html-slider-response-response"></input>',r+="<div>";for(var i=0;i<t.labels.length;i++){var n=100/(t.labels.length-1),s=i*(100/(t.labels.length-1));r+='<div style="border: 1px solid transparent; display: inline-block; position: absolute; left:calc('+s+"% - ("+n+"% / 2) - "+(s-50)/50*100*7.5/100+"px); text-align: center; width: "+n+'%;">',r+='<span style="text-align: center; font-size: 80%;">'+t.labels[i]+"</span>",r+="</div>"}r+="</div>",r+="</div>",r+="</div>",null!==t.prompt&&(r+=t.prompt),r+='<button id="jspsych-html-slider-response-next" class="jspsych-btn" '+(t.require_movement?"disabled":"")+">"+t.button_label+"</button>",e.innerHTML=r;var a={rt:null,response:null};function o(){jsPsych.pluginAPI.clearAllTimeouts();var r={rt:a.rt,stimulus:t.stimulus,slider_start:t.slider_start,response:a.response};e.innerHTML="",jsPsych.finishTrial(r)}t.require_movement&&e.querySelector("#jspsych-html-slider-response-response").addEventListener("click",(function(){e.querySelector("#jspsych-html-slider-response-next").disabled=!1})),e.querySelector("#jspsych-html-slider-response-next").addEventListener("click",(function(){var r=performance.now();a.rt=r-l,a.response=e.querySelector("#jspsych-html-slider-response-response").valueAsNumber,t.response_ends_trial?o():e.querySelector("#jspsych-html-slider-response-next").disabled=!0})),null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-slider-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){o()}),t.trial_duration);var l=performance.now()},r)},function(e,t){var r;jsPsych.plugins["iat-html"]=((r={}).info={name:"iat-html",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed."},left_category_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Left category key",default:"e",description:"Key press that is associated with the left category label."},right_category_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Right category key",default:"i",description:"Key press that is associated with the right category label."},left_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,default:["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,default:["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},key_to_move_forward:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key to move forward",array:!0,default:jsPsych.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Display feedback",default:!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"HTML when wrong",default:'<span style="color: red; font-size: 80px">X</span>',description:"The HTML to display when a user presses the wrong key."},bottom_instructions:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions",default:"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct key press",default:!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus key association",options:["left","right"],default:void 0,description:'Stimulus will be associated with either "left" or "right".'},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."}}},r.trial=function(e,t){var r="";function i(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==n&&jsPsych.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,stimulus:t.stimulus,response:s.key,correct:s.correct};e.innerHTML="",jsPsych.finishTrial(r)}r+="<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><p id='jspsych-iat-stim'>"+t.stimulus+"</p></div>",r+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>",1==t.left_category_label.length?r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"<br>or<br>"+t.left_category_label[1].bold()+"</p></div>",r+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>",1==t.right_category_label.length?r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"<br>or<br>"+t.right_category_label[1].bold()+"</p></div>",r+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>",!0===t.display_feedback&&(r+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+t.html_when_wrong+"</p></div>"),r+="<div>"+t.bottom_instructions+"</div>",e.innerHTML=r+="</div>";var n,s={rt:null,key:null,correct:!1},a=t.left_category_key,o=t.right_category_key;t.left_category_key!=jsPsych.NO_KEYS&&t.right_category_key!=jsPsych.NO_KEYS&&(n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(r){var n=document.getElementById("wrongImgContainer");e.querySelector("#jspsych-iat-stim").className+=" responded",null==s.key&&(s=r),"right"==t.stim_key_association?null!==s.rt&&jsPsych.pluginAPI.compareKeys(s.key,o)?(s.correct=!0,t.response_ends_trial&&i()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(n.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(n.style.visibility="visible",t.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[t.right_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[jsPsych.ALL_KEYS]}):t.response_ends_trial||t.display_feedback):"left"==t.stim_key_association&&(null!==s.rt&&jsPsych.pluginAPI.compareKeys(s.key,a)?(s.correct=!0,t.response_ends_trial&&i()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(n.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(n.style.visibility="visible",t.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[t.left_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[jsPsych.ALL_KEYS]}):t.response_ends_trial||t.display_feedback))},valid_responses:[t.left_category_key,t.right_category_key],rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.trial_duration&&1!=t.response_ends_trial&&jsPsych.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},r)},function(e,t){var r;jsPsych.plugins["iat-image"]=(r={},jsPsych.pluginAPI.registerPreload("iat-image","stimulus","image"),r.info={name:"iat-image",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},left_category_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Left category key",default:"e",description:"Key press that is associated with the left category label."},right_category_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Right category key",default:"i",description:"Key press that is associated with the right category label."},left_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,default:["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,default:["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},key_to_move_forward:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key to move forward",array:!0,default:jsPsych.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Display feedback",default:!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"HTML when wrong",default:'<span style="color: red; font-size: 80px">X</span>',description:"The HTML to display when a user presses the wrong key."},bottom_instructions:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions",default:"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct key press",default:!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus key association",options:["left","right"],default:void 0,description:'Stimulus will be associated with either "left" or "right".'},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."}}},r.trial=function(e,t){var r="";function i(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==n&&jsPsych.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,stimulus:t.stimulus,response:s.key,correct:s.correct};e.innerHTML="",jsPsych.finishTrial(r)}r+="<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><img src='"+t.stimulus+"' id='jspsych-iat-stim'></img></div>",r+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>",1==t.left_category_label.length?r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"<br>or<br>"+t.left_category_label[1].bold()+"</p></div>",r+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>",1==t.right_category_label.length?r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"<br>or<br>"+t.right_category_label[1].bold()+"</p></div>",r+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>",!0===t.display_feedback&&(r+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+t.html_when_wrong+"</p></div>"),r+="<div>"+t.bottom_instructions+"</div>",e.innerHTML=r+="</div>";var n,s={rt:null,key:null,correct:!1},a=t.left_category_key,o=t.right_category_key;t.left_category_key!=jsPsych.NO_KEYS&&t.right_category_key!=jsPsych.NO_KEYS&&(n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(r){var n=document.getElementById("wrongImgContainer");e.querySelector("#jspsych-iat-stim").className+=" responded",null==s.key&&(s=r),"right"==t.stim_key_association?null!==s.rt&&jsPsych.pluginAPI.compareKeys(s.key,o)?(s.correct=!0,t.response_ends_trial&&i()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(n.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(n.style.visibility="visible",t.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[t.right_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[jsPsych.ALL_KEYS]}):t.response_ends_trial||t.display_feedback):"left"==t.stim_key_association&&(null!==s.rt&&jsPsych.pluginAPI.compareKeys(s.key,a)?(s.correct=!0,t.response_ends_trial&&i()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(n.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(n.style.visibility="visible",t.force_correct_key_press?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[t.left_category_key]}):jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?jsPsych.pluginAPI.getKeyboardResponse({callback_function:i,valid_responses:[jsPsych.ALL_KEYS]}):t.response_ends_trial||t.display_feedback))},valid_responses:[t.left_category_key,t.right_category_key],rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.trial_duration&&1!=t.response_ends_trial&&jsPsych.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},r)},function(e,t){var r;jsPsych.plugins["image-keyboard-response"]=(r={},jsPsych.pluginAPI.registerPreload("image-keyboard-response","stimulus","image"),r.info={name:"image-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},choices:{type:jsPsych.plugins.parameterType.KEY,array:!0,pretty_name:"Choices",default:jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."},render_on_canvas:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Render on canvas",default:!0,description:"If true, the image will be drawn onto a canvas element (prevents blank screen between consecutive images in some browsers).If false, the image will be shown via an img element."}}},r.trial=function(e,t){var r,i;if(t.render_on_canvas){var n=!1;if(e.hasChildNodes())for(;e.firstChild;)e.removeChild(e.firstChild);var s=document.createElement("canvas");s.id="jspsych-image-keyboard-response-stimulus",s.style.margin=0,s.style.padding=0;var a=s.getContext("2d");function o(){null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=u.naturalWidth*(t.stimulus_height/u.naturalHeight))):r=u.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=u.naturalHeight*(t.stimulus_width/u.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=u.naturalWidth),s.height=r,s.width=i}(u=new Image).onload=function(){n||(o(),a.drawImage(u,0,0,i,r))},u.src=t.stimulus,o(),e.insertBefore(s,null),u.complete&&Number.isFinite(i)&&Number.isFinite(r)&&(a.drawImage(u,0,0,i,r),n=!0),null!==t.prompt&&e.insertAdjacentHTML("beforeend",t.prompt)}else{var l='<img src="'+t.stimulus+'" id="jspsych-image-keyboard-response-stimulus">';null!==t.prompt&&(l+=t.prompt),e.innerHTML=l;var u=e.querySelector("#jspsych-image-keyboard-response-stimulus");null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=u.naturalWidth*(t.stimulus_height/u.naturalHeight))):r=u.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=u.naturalHeight*(t.stimulus_width/u.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=u.naturalWidth),u.style.height=r.toString()+"px",u.style.width=i.toString()+"px"}function p(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==c&&jsPsych.pluginAPI.cancelKeyboardResponse(c);var r={rt:d.rt,stimulus:t.stimulus,response:d.key};e.innerHTML="",jsPsych.finishTrial(r)}var c,d={rt:null,key:null};t.choices!=jsPsych.NO_KEYS&&(c=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-image-keyboard-response-stimulus").className+=" responded",null==d.key&&(d=r),t.response_ends_trial&&p()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration?jsPsych.pluginAPI.setTimeout((function(){p()}),t.trial_duration):!1===t.response_ends_trial&&console.warn("The experiment may be deadlocked. Try setting a trial duration or set response_ends_trial to true.")},r)},function(e,t){var r;jsPsych.plugins["image-slider-response"]=(r={},jsPsych.pluginAPI.registerPreload("image-slider-response","stimulus","image"),r.info={name:"image-slider-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},min:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},slider_start:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},render_on_canvas:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Render on canvas",default:!0,description:"If true, the image will be drawn onto a canvas element (prevents blank screen between consecutive images in some browsers).If false, the image will be shown via an img element."}}},r.trial=function(e,t){var r,i,n;if(t.render_on_canvas){var s=!1;if(e.hasChildNodes())for(;e.firstChild;)e.removeChild(e.firstChild);var a=document.createElement("div");a.id="jspsych-image-slider-response-wrapper",a.style.margin="100px 0px";var o=document.createElement("canvas");o.id="jspsych-image-slider-response-stimulus",o.style.margin=0,o.style.padding=0;var l=o.getContext("2d");function u(){null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=h.naturalWidth*(t.stimulus_height/h.naturalHeight))):r=h.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=h.naturalHeight*(t.stimulus_width/h.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=h.naturalWidth),o.height=r,o.width=i}(h=new Image).onload=function(){s||(u(),l.drawImage(h,0,0,i,r))},h.src=t.stimulus,u();var p=document.createElement("div");p.classList.add("jspsych-image-slider-response-container"),p.style.position="relative",p.style.margin="0 auto 3em auto",null!==t.slider_width&&(p.style.width=t.slider_width.toString()+"px"),n='<input type="range" class="jspsych-slider" value="'+t.slider_start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" id="jspsych-image-slider-response-response"></input>',n+="<div>";for(var c=0;c<t.labels.length;c++){var d=100/(t.labels.length-1);n+='<div style="border: 1px solid transparent; display: inline-block; position: absolute; left:calc('+(y=c*(100/(t.labels.length-1)))+"% - ("+d+"% / 2) - "+(y-50)/50*100*7.5/100+"px); text-align: center; width: "+d+'%;">',n+='<span style="text-align: center; font-size: 80%;">'+t.labels[c]+"</span>",n+="</div>"}p.innerHTML=n+="</div>",a.insertBefore(o,a.firstElementChild),a.insertBefore(p,o.nextElementSibling),e.insertBefore(a,null),h.complete&&Number.isFinite(i)&&Number.isFinite(r)&&(l.drawImage(h,0,0,i,r),s=!0),null!==t.prompt&&e.insertAdjacentHTML("beforeend",t.prompt),(a=document.createElement("button")).id="jspsych-image-slider-response-next",a.classList.add("jspsych-btn"),a.disabled=!!t.require_movement,a.innerHTML=t.button_label,e.insertBefore(a,e.nextElementSibling)}else{for(n='<div id="jspsych-image-slider-response-wrapper" style="margin: 100px 0px;">',n+='<div id="jspsych-image-slider-response-stimulus">',n+='<img src="'+t.stimulus+'" style="',null!==t.stimulus_height&&(n+="height:"+t.stimulus_height+"px; ",null==t.stimulus_width&&t.maintain_aspect_ratio&&(n+="width: auto; ")),null!==t.stimulus_width&&(n+="width:"+t.stimulus_width+"px; ",null==t.stimulus_height&&t.maintain_aspect_ratio&&(n+="height: auto; ")),n+='"></img>',n+="</div>",n+='<div class="jspsych-image-slider-response-container" style="position:relative; margin: 0 auto 3em auto; width:',null!==t.slider_width?n+=t.slider_width+"px;":n+="auto;",n+='">',n+='<input type="range" class="jspsych-slider" value="'+t.slider_start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" id="jspsych-image-slider-response-response"></input>',n+="<div>",c=0;c<t.labels.length;c++){var y;d=100/(t.labels.length-1);n+='<div style="border: 1px solid transparent; display: inline-block; position: absolute; left:calc('+(y=c*(100/(t.labels.length-1)))+"% - ("+d+"% / 2) - "+(y-50)/50*100*7.5/100+"px); text-align: center; width: "+d+'%;">',n+='<span style="text-align: center; font-size: 80%;">'+t.labels[c]+"</span>",n+="</div>"}n+="</div>",n+="</div>",n+="</div>",null!==t.prompt&&(n+=t.prompt),n+='<button id="jspsych-image-slider-response-next" class="jspsych-btn" '+(t.require_movement?"disabled":"")+">"+t.button_label+"</button>",e.innerHTML=n;var h=e.querySelector("img");null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=h.naturalWidth*(t.stimulus_height/h.naturalHeight))):r=h.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=h.naturalHeight*(t.stimulus_width/h.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=h.naturalWidth),h.style.height=r.toString()+"px",h.style.width=i.toString()+"px"}var m={rt:null,response:null};function f(){jsPsych.pluginAPI.clearAllTimeouts();var r={rt:m.rt,stimulus:t.stimulus,slider_start:t.slider_start,response:m.response};e.innerHTML="",jsPsych.finishTrial(r)}t.require_movement&&e.querySelector("#jspsych-image-slider-response-response").addEventListener("click",(function(){e.querySelector("#jspsych-image-slider-response-next").disabled=!1})),e.querySelector("#jspsych-image-slider-response-next").addEventListener("click",(function(){var r=performance.now();m.rt=r-g,m.response=e.querySelector("#jspsych-image-slider-response-response").valueAsNumber,t.response_ends_trial?f():e.querySelector("#jspsych-image-slider-response-next").disabled=!0})),null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-slider-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){f()}),t.trial_duration);var g=performance.now()},r)},function(e,t){var r;jsPsych.plugins["image-button-response"]=(r={},jsPsych.pluginAPI.registerPreload("image-button-response","stimulus","image"),r.info={name:"image-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},choices:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."},render_on_canvas:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Render on canvas",default:!0,description:"If true, the image will be drawn onto a canvas element (prevents blank screen between consecutive images in some browsers).If false, the image will be shown via an img element."}}},r.trial=function(e,t){var r,i;if(t.render_on_canvas){var n=!1;if(e.hasChildNodes())for(;e.firstChild;)e.removeChild(e.firstChild);var s=document.createElement("canvas");s.id="jspsych-image-button-response-stimulus",s.style.margin=0,s.style.padding=0;var a=s.getContext("2d");function o(){null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=y.naturalWidth*(t.stimulus_height/y.naturalHeight))):r=y.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=y.naturalHeight*(t.stimulus_width/y.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=y.naturalWidth),s.height=r,s.width=i}(y=new Image).onload=function(){n||(o(),a.drawImage(y,0,0,i,r))},y.src=t.stimulus,o();var l=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?l=t.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var u=0;u<t.choices.length;u++)l.push(t.button_html);var p=document.createElement("div");p.id="jspsych-image-button-response-btngroup";var c="";for(u=0;u<t.choices.length;u++){var d=l[u].replace(/%choice%/g,t.choices[u]);c+='<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-image-button-response-button-'+u+'" data-choice="'+u+'">'+d+"</div>"}p.innerHTML=c,e.insertBefore(s,null),y.complete&&Number.isFinite(i)&&Number.isFinite(r)&&(a.drawImage(y,0,0,i,r),n=!0),e.insertBefore(p,s.nextElementSibling),null!==t.prompt&&e.insertAdjacentHTML("beforeend",t.prompt)}else{if(c='<img src="'+t.stimulus+'" id="jspsych-image-button-response-stimulus">',l=[],Array.isArray(t.button_html))t.button_html.length==t.choices.length?l=t.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(u=0;u<t.choices.length;u++)l.push(t.button_html);for(c+='<div id="jspsych-image-button-response-btngroup">',u=0;u<t.choices.length;u++)d=l[u].replace(/%choice%/g,t.choices[u]),c+='<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-image-button-response-button-'+u+'" data-choice="'+u+'">'+d+"</div>";c+="</div>",null!==t.prompt&&(c+=t.prompt),e.innerHTML=c;var y=e.querySelector("#jspsych-image-button-response-stimulus");null!==t.stimulus_height?(r=t.stimulus_height,null==t.stimulus_width&&t.maintain_aspect_ratio&&(i=y.naturalWidth*(t.stimulus_height/y.naturalHeight))):r=y.naturalHeight,null!==t.stimulus_width?(i=t.stimulus_width,null==t.stimulus_height&&t.maintain_aspect_ratio&&(r=y.naturalHeight*(t.stimulus_width/y.naturalWidth))):null!==t.stimulus_height&t.maintain_aspect_ratio||(i=y.naturalWidth),y.style.height=r.toString()+"px",y.style.width=i.toString()+"px"}var h=performance.now();for(u=0;u<t.choices.length;u++)e.querySelector("#jspsych-image-button-response-button-"+u).addEventListener("click",(function(r){!function(r){var i=performance.now()-h;m.button=parseInt(r),m.rt=i,e.querySelector("#jspsych-image-button-response-stimulus").className+=" responded";for(var n=document.querySelectorAll(".jspsych-image-button-response-button button"),s=0;s<n.length;s++)n[s].setAttribute("disabled","disabled");t.response_ends_trial&&f()}(r.currentTarget.getAttribute("data-choice"))}));var m={rt:null,button:null};function f(){jsPsych.pluginAPI.clearAllTimeouts();var r={rt:m.rt,stimulus:t.stimulus,response:m.button};e.innerHTML="",jsPsych.finishTrial(r)}null!==t.stimulus_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration?jsPsych.pluginAPI.setTimeout((function(){f()}),t.trial_duration):!1===t.response_ends_trial&&console.warn("The experiment may be deadlocked. Try setting a trial duration or set response_ends_trial to true.")},r)},function(e,t){var r;jsPsych.plugins.instructions=((r={}).info={name:"instructions",description:"",parameters:{pages:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0,description:"Each element of the array is the content for a single page."},key_forward:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key forward",default:"ArrowRight",description:"The key the subject can press in order to advance to the next page."},key_backward:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key backward",default:"ArrowLeft",description:"The key that the subject can press to return to the previous page."},allow_backward:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow backward",default:!0,description:"If true, the subject can return to the previous page of the instructions."},allow_keys:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow keys",default:!0,description:"If true, the subject can use keyboard keys to navigate the pages."},show_clickable_nav:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show clickable nav",default:!1,description:'If true, then a "Previous" and "Next" button will be displayed beneath the instructions.'},show_page_number:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show page number",default:!1,description:"If true, and clickable navigation is enabled, then Page x/y will be shown between the nav buttons."},page_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Page label",default:"Page",description:"The text that appears before x/y (current/total) pages displayed with show_page_number"},button_label_previous:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label previous",default:"Previous",description:"The text that appears on the button to go backwards."},button_label_next:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label next",default:"Next",description:"The text that appears on the button to go forwards."}}},r.trial=function(e,t){var r,i=0,n=[],s=performance.now(),a=s;function o(e){e.target.removeEventListener("click",o),"jspsych-instructions-back"===this.id?p():"jspsych-instructions-next"===this.id&&u()}function l(){var r,n=t.pages[i],s="";t.show_page_number&&(s="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>"+t.page_label+" "+(i+1)+"/"+t.pages.length+"</span>"),t.show_clickable_nav?(r="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>",t.allow_backward&&(r+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+(0<i?"":"disabled='disabled'")+">&lt; "+t.button_label_previous+"</button>"),1<t.pages.length&&t.show_page_number&&(r+=s),r+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+t.button_label_next+" &gt;</button></div>",e.innerHTML=n+=r,0!=i&&t.allow_backward&&e.querySelector("#jspsych-instructions-back").addEventListener("click",o),e.querySelector("#jspsych-instructions-next").addEventListener("click",o)):(t.show_page_number&&1<t.pages.length&&(n+="<div class='jspsych-instructions-pagenum'>"+s+"</div>"),e.innerHTML=n)}function u(){c(),(++i>=t.pages.length?function(){t.allow_keys&&jsPsych.pluginAPI.cancelKeyboardResponse(r),e.innerHTML="";var i={view_history:n,rt:performance.now()-s};jsPsych.finishTrial(i)}:l)()}function p(){c(),i--,l()}function c(){var e=performance.now(),t=e-a;n.push({page_index:i,viewing_time:t}),a=e}l(),t.allow_keys&&(r=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function e(n){r=jsPsych.pluginAPI.getKeyboardResponse({callback_function:e,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),jsPsych.pluginAPI.compareKeys(n.key,t.key_backward)&&0!==i&&t.allow_backward&&p(),jsPsych.pluginAPI.compareKeys(n.key,t.key_forward)&&u()},valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1}))},r)},function(e,t){var r;jsPsych.plugins.reconstruction=((r={}).info={name:"reconstruction",description:"",parameters:{stim_function:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Stimulus function",default:void 0,description:"A function with a single parameter that returns an HTML-formatted string representing the stimulus."},starting_value:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Starting value",default:.5,description:"The starting value of the stimulus parameter."},step_size:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Step size",default:.05,description:"The change in the stimulus parameter caused by pressing one of the modification keys."},key_increase:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key increase",default:"h",description:"The key to press for increasing the parameter value."},key_decrease:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Key decrease",default:"g",description:"The key to press for decreasing the parameter value."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},r.trial=function(e,t){var r=t.starting_value,i=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){var i=t.key_increase,s=t.key_decrease;jsPsych.pluginAPI.compareKeys(e.key,i)?r+=t.step_size:jsPsych.pluginAPI.compareKeys(e.key,s)&&(r-=t.step_size),n(r=Math.max(Math.min(1,r),0))},valid_responses:[t.key_increase,t.key_decrease],rt_method:"performance",persist:!0,allow_held_key:!0});function n(r){e.innerHTML='<div id="jspsych-reconstruction-stim-container">'+t.stim_function(r)+"</div>",e.innerHTML+='<button id="jspsych-reconstruction-next" class="jspsych-btn jspsych-reconstruction">'+t.button_label+"</button>",e.querySelector("#jspsych-reconstruction-next").addEventListener("click",s)}function s(){var n=performance.now()-a;jsPsych.pluginAPI.cancelKeyboardResponse(i),n={rt:n,final_value:r,start_value:t.starting_value},e.innerHTML="",jsPsych.finishTrial(n)}n(r);var a=performance.now()},r)},function(e,t){var r;jsPsych.plugins.resize=((r={}).info={name:"resize",description:"",parameters:{item_height:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Item height",default:1,description:"The height of the item to be measured."},item_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Item width",default:1,description:"The width of the item to be measured."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"The content displayed below the resizable box and above the button."},pixels_per_unit:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pixels per unit",default:100,description:"After the scaling factor is applied, this many pixels will equal one unit of measurement."},starting_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Starting size",default:100,description:"The initial size of the box, in pixels, along the larget dimension."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label to display on the button to complete calibration."}}},r.trial=function(e,t){var r,i=t.item_width/t.item_height;t.item_width>=t.item_height?(n=t.starting_size,r=Math.round(t.starting_size/i)):(r=t.starting_size,n=Math.round(t.starting_size*i));var n='<div id="jspsych-resize-div" style="border: 2px solid steelblue; height: '+r+"px; width:"+n+'px; margin: 7px auto; background-color: lightsteelblue; position: relative;">';n+='<div id="jspsych-resize-handle" style="cursor: nwse-resize; background-color: steelblue; width: 10px; height: 10px; border: 2px solid lightsteelblue; position: absolute; bottom: 0; right: 0;"></div>',n+="</div>",null!==t.prompt&&(n+=t.prompt),n+='<a class="jspsych-btn" id="jspsych-resize-btn">'+t.button_label+"</a>",e.innerHTML=n,document.getElementById("jspsych-resize-btn").addEventListener("click",(function(){var r;r=(d=y.offsetWidth)/t.item_width,c=r/t.pixels_per_unit,document.getElementById("jspsych-content").style.transform="scale("+c+")",function(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p),e.innerHTML="";var t={final_height_px:void 0,final_width_px:d,scale_factor:c};jsPsych.finishTrial(t)}()}));var s,a,o,l,u=!1;e.querySelector("#jspsych-resize-handle").addEventListener("mousedown",(function(e){e.preventDefault(),u=!0,s=e.pageX,a=e.pageY,o=parseInt(y.style.width),l=parseInt(y.style.height)}));var p=function(e){u=!1};document.addEventListener("mouseup",p);var c,d,y=e.querySelector("#jspsych-resize-div"),h=function(e){var t;u&&(t=e.pageX-s,e=e.pageY-a,Math.abs(t)>=Math.abs(e)?(y.style.width=Math.round(Math.max(20,o+2*t))+"px",y.style.height=Math.round(Math.max(20,o+2*t)/i)+"px"):(y.style.height=Math.round(Math.max(20,l+2*e))+"px",y.style.width=Math.round(i*Math.max(20,l+2*e))+"px"))};document.addEventListener("mousemove",h)},r)},function(e,t){var r;jsPsych.plugins["same-different-html"]=((r={}).info={name:"same-different-html",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"The HTML content to be displayed."},answer:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],default:void 0,description:'Either "same" or "different".'},same_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Same key",default:"q",description:""},different_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Different key",default:"p",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"First stimulus duration",default:1e3,description:"How long to show the first stimulus for in milliseconds. If null, then the stimulus will remain on the screen until any keypress is made."},gap_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Gap duration",default:500,description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Second stimulus duration",default:1e3,description:"How long to show the second stimulus for in milliseconds. If null, then the stimulus will remain on the screen until a valid response is made."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){var r;function i(){e.innerHTML="",jsPsych.pluginAPI.setTimeout((function(){!function(){var i='<div class="jspsych-same-different-stimulus">'+t.stimuli[1]+"</div>";null!==t.prompt&&(i+=t.prompt),e.innerHTML=i,0<t.second_stim_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"}),t.second_stim_duration),jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(i){jsPsych.pluginAPI.clearAllTimeouts();var n=!1,s=t.same_key,a=t.different_key;jsPsych.pluginAPI.compareKeys(i.key,s)&&"same"==t.answer&&(n=!0),jsPsych.pluginAPI.compareKeys(i.key,a)&&"different"==t.answer&&(n=!0),i={rt:i.rt,answer:t.answer,correct:n,stimulus:[t.stimuli[0],t.stimuli[1]],response:i.key},r&&(i.rt_stim1=r.rt,i.response_stim1=r.key),e.innerHTML="",jsPsych.finishTrial(i)},valid_responses:[t.same_key,t.different_key],rt_method:"performance",persist:!1,allow_held_key:!1})}()}),t.gap_duration)}e.innerHTML='<div class="jspsych-same-different-stimulus">'+t.stimuli[0]+"</div>",0<t.first_stim_duration?jsPsych.pluginAPI.setTimeout((function(){i()}),t.first_stim_duration):jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){r=e,i()},valid_responses:t.advance_key,rt_method:"performance",persist:!1,allow_held_key:!1})},r)},function(e,t){var r;jsPsych.plugins["same-different-image"]=(r={},jsPsych.pluginAPI.registerPreload("same-different-image","stimuli","image"),r.info={name:"same-different-image",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli",default:void 0,array:!0,description:"The images to be displayed."},answer:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],default:void 0,description:'Either "same" or "different".'},same_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Same key",default:"q",description:""},different_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Different key",default:"p",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"First stimulus duration",default:1e3,description:"How long to show the first stimulus for in milliseconds. If null, then the stimulus will remain on the screen until any keypress is made."},gap_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Gap duration",default:500,description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Second stimulus duration",default:1e3,description:"How long to show the second stimulus for in milliseconds. If null, then the stimulus will remain on the screen until a valid response is made."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){var r;function i(){e.innerHTML="",jsPsych.pluginAPI.setTimeout((function(){!function(){var i='<img class="jspsych-same-different-stimulus" src="'+t.stimuli[1]+'"></img>';null!==t.prompt&&(i+=t.prompt),e.innerHTML=i,0<t.second_stim_duration&&jsPsych.pluginAPI.setTimeout((function(){e.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"}),t.second_stim_duration),jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(i){jsPsych.pluginAPI.clearAllTimeouts();var n=!1,s=t.same_key,a=t.different_key;jsPsych.pluginAPI.compareKeys(i.key,s)&&"same"==t.answer&&(n=!0),jsPsych.pluginAPI.compareKeys(i.key,a)&&"different"==t.answer&&(n=!0),i={rt:i.rt,answer:t.answer,correct:n,stimulus:[t.stimuli[0],t.stimuli[1]],response:i.key},r&&(i.rt_stim1=r.rt,i.response_stim1=r.key),e.innerHTML="",jsPsych.finishTrial(i)},valid_responses:[t.same_key,t.different_key],rt_method:"performance",persist:!1,allow_held_key:!1})}()}),t.gap_duration)}e.innerHTML='<img class="jspsych-same-different-stimulus" src="'+t.stimuli[0]+'"></img>',0<t.first_stim_duration?jsPsych.pluginAPI.setTimeout((function(){i()}),t.first_stim_duration):jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){r=e,i()},valid_responses:t.advance_key,rt_method:"performance",persist:!1,allow_held_key:!1})},r)},function(e,t){var r;jsPsych.plugins["serial-reaction-time-mouse"]=((r={}).info={name:"serial-reaction-time-mouse",description:"",parameters:{target:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target",array:!0,default:void 0,description:"The location of the target. The array should be the [row, column] of the target."},grid:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,default:[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},grid_square_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Grid square size",default:100,description:"The width and height in pixels of each square in the grid."},target_color:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Target color",default:"#999",description:"The color of the target square."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial ends after a mouse click."},pre_target_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre-target duration",default:0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial"},fade_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fade duration",default:null,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},allow_nontarget_responses:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow nontarget response",default:!1,description:"If true, then user can make nontarget response."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus"}}},r.trial=function(e,t){var r=-1,i={rt:null,row:null,column:null},n=this.stimulus(t.grid,t.grid_square_size);function s(){for(var n=t.allow_nontarget_responses?e.querySelectorAll(".jspsych-serial-reaction-time-stimulus-cell"):[e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1])],s=0;s<n.length;s++)n[s].addEventListener("mousedown",(function(e){var n;-1==r||((n={}).row=e.currentTarget.getAttribute("data-row"),n.column=e.currentTarget.getAttribute("data-column"),n.rt=performance.now()-r,n=n,i=null==i.rt?n:i,t.response_ends_trial&&a())}));r=performance.now(),null==t.fade_duration||(e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.transition="background-color "+t.fade_duration),e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.backgroundColor=t.target_color,null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout(a,t.trial_duration)}function a(){jsPsych.pluginAPI.clearAllTimeouts();var r={rt:i.rt,grid:t.grid,target:t.target,response:[parseInt(i.row,10),parseInt(i.column,10)],correct:i.row==t.target[0]&&i.column==t.target[1]};e.innerHTML="",jsPsych.finishTrial(r)}e.innerHTML=n,t.pre_target_duration<=0?s():jsPsych.pluginAPI.setTimeout((function(){s()}),t.pre_target_duration),null!==t.prompt&&e.insertAdjacentHTML("beforeend",t.prompt)},r.stimulus=function(e,t,r,i,n){for(var s="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+t/4+"px'>",a=0;a<e.length;a++){s+="<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>";for(var o=0;o<e[a].length;o++)s+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+a+"-"+o+"' data-row="+a+" data-column="+o+" style='width:"+t+"px; height:"+t+"px; display:table-cell; vertical-align:middle; text-align: center; cursor: pointer; font-size:"+t/2+"px;",1==e[a][o]&&(s+="border: 2px solid black;"),void 0!==r&&r[0]==a&&r[1]==o&&(s+="background-color: "+i+";"),s+="'>",void 0!==n&&!1!==n[a][o]&&(s+=n[a][o]),s+="</div>";s+="</div>"}return s+"</div>"},r)},function(e,t){var r;jsPsych.plugins["serial-reaction-time"]=((r={}).info={name:"serial-reaction-time",description:"",parameters:{grid:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,default:[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},target:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target",array:!0,default:void 0,description:"The location of the target. The array should be the [row, column] of the target."},choices:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Choices",array:!0,default:[["3","5","7","9"]],description:" Each entry in this array is the key that should be pressed for that corresponding location in the grid."},grid_square_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Grid square size",default:100,description:"The width and height in pixels of each square in the grid."},target_color:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Target color",default:"#999",description:"The color of the target square."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial ends when user makes a response."},pre_target_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre-target duration",default:0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},show_response_feedback:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show response feedback",default:!1,description:"If true, show feedback indicating where the user responded and whether it was correct."},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration",default:200,description:"The length of time in milliseconds to show the feedback."},fade_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fade duration",default:null,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,no_function:!1,description:" Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){for(var r=jsPsych.utils.flatten(t.choices);-1<r.indexOf("");)r.splice(r.indexOf(""),1);var i=this.stimulus(t.grid,t.grid_square_size);e.innerHTML=i,t.pre_target_duration<=0?a():jsPsych.pluginAPI.setTimeout((function(){a()}),t.pre_target_duration),null!==t.prompt&&(e.innerHTML+=t.prompt);var n={},s={rt:null,key:!1,correct:!1};function a(){null==t.fade_duration||(e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.transition="background-color "+t.fade_duration),e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.backgroundColor=t.target_color,n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:u,valid_responses:r,allow_held_key:!1}),null<t.trial_duration&&jsPsych.pluginAPI.setTimeout(o,t.trial_duration)}function o(){var r;null==s.rt||0==t.show_response_feedback?l():(r=s.correct?"#0f0":"#f00",e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+s.responseLoc[0]+"-"+s.responseLoc[1]).style.transition="",e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+s.responseLoc[0]+"-"+s.responseLoc[1]).style.backgroundColor=r,jsPsych.pluginAPI.setTimeout(l,t.feedback_duration))}function l(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==n&&jsPsych.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,response:s.key,correct:s.correct,grid:t.grid,target:t.target};e.innerHTML="",jsPsych.finishTrial(r)}function u(e){s=null==s.rt?e:s;for(var r=[],i=0;i<t.choices.length;i++)for(var n=0;n<t.choices[i].length;n++){var a=t.choices[i][n];if(jsPsych.pluginAPI.compareKeys(e.key,a)){r=[i,n];break}}s.responseLoc=r,s.correct=JSON.stringify(r)==JSON.stringify(t.target),t.response_ends_trial&&(t.show_response_feedback?o(s.correct):l())}},r.stimulus=function(e,t,r,i,n){for(var s="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+t/4+"px'>",a=0;a<e.length;a++){s+="<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>";for(var o=0;o<e[a].length;o++)s+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+a+"-"+o+"' style='width:"+t+"px; height:"+t+"px; display:table-cell; vertical-align:middle; text-align: center; font-size:"+t/2+"px;",1==e[a][o]&&(s+="border: 2px solid black;"),void 0!==r&&r[0]==a&&r[1]==o&&(s+="background-color: "+i+";"),s+="'>",void 0!==n&&!1!==n[a][o]&&(s+=n[a][o]),s+="</div>";s+="</div>"}return s+"</div>"},r)},function(e,t){var r;jsPsych.plugins["survey-likert"]=((r={}).info={name:"survey-likert",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Questions that are associated with the slider."},labels:{type:jsPsych.plugins.parameterType.STRING,array:!0,pretty_name:"Labels",default:void 0,description:"Labels to display for individual question."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Makes answering the question required."},name:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Question Name",default:"",description:"Controls the name of data values associated with this question"}}},randomize_question_order:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"String to display at top of the page."},scale_width:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Scale width",default:null,description:"Width of the likert scales in pixels."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."},autocomplete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow autocomplete",default:!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."}}},r.trial=function(e,t){var r="";r+='<style id="jspsych-survey-likert-css">',r+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:"+(null!==t.scale_width?t.scale_width+"px":"100%")+"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",r+="</style>",null!==t.preamble&&(r+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+t.preamble+"</div>"),t.autocomplete?r+='<form id="jspsych-survey-likert-form">':r+='<form id="jspsych-survey-likert-form" autocomplete="off">';for(var i=[],n=0;n<t.questions.length;n++)i.push(n);for(t.randomize_question_order&&(i=jsPsych.randomization.shuffle(i)),n=0;n<t.questions.length;n++){var s=t.questions[i[n]];r+='<label class="jspsych-survey-likert-statement">'+s.prompt+"</label>";for(var a=100/s.labels.length,o='<ul class="jspsych-survey-likert-opts" data-name="'+s.name+'" data-radio-group="Q'+i[n]+'">',l=0;l<s.labels.length;l++)o+='<li style="width:'+a+'%"><label class="jspsych-survey-likert-opt-label"><input type="radio" name="Q'+i[n]+'" value="'+l+'"',s.required&&(o+=" required"),o+=">"+s.labels[l]+"</label></li>";r+=o+="</ul>"}r+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+t.button_label+'"></input>',e.innerHTML=r+="</form>",e.querySelector("#jspsych-survey-likert-form").addEventListener("submit",(function(t){t.preventDefault();t=performance.now()-u;for(var r={},n=e.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),s=0;s<n.length;s++){var a,o=n[s].dataset.radioGroup,l=e.querySelector('input[name="'+o+'"]:checked');a=null===l?"":parseInt(l.value),(l={})[""!==n[s].attributes["data-name"].value?n[s].attributes["data-name"].value:o]=a,Object.assign(r,l)}t={rt:t,response:r,question_order:i},e.innerHTML="",jsPsych.finishTrial(t)}));var u=performance.now()},r)},function(e,t){var r;jsPsych.plugins["survey-multi-choice"]=((r={}).info={name:"survey-multi-choice",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick an option for each question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."},name:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Question Name",default:"",description:"Controls the name of data values associated with this question"}}},randomize_question_order:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."},autocomplete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow autocomplete",default:!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."}}},r.trial=function(e,t){var r="jspsych-survey-multi-choice",i="";i+='<style id="jspsych-survey-multi-choice-css">',i+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",i+="</style>",null!==t.preamble&&(i+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-multi-choice-form">':i+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var n=[],s=0;s<t.questions.length;s++)n.push(s);for(t.randomize_question_order&&(n=jsPsych.randomization.shuffle(n)),s=0;s<t.questions.length;s++){var a=t.questions[n[s]],o=n[s],l=["jspsych-survey-multi-choice-question"];a.horizontal&&l.push("jspsych-survey-multi-choice-horizontal"),i+='<div id="jspsych-survey-multi-choice-'+o+'" class="'+l.join(" ")+'"  data-name="'+a.name+'">',i+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+a.prompt,a.required&&(i+="<span class='required'>*</span>"),i+="</p>";for(var u=0;u<a.options.length;u++){var p="jspsych-survey-multi-choice-response-"+o+"-"+u,c=a.required?"required":"";i+='<div id="jspsych-survey-multi-choice-option-'+o+"-"+u+'" class="jspsych-survey-multi-choice-option">',i+='<label class="jspsych-survey-multi-choice-text" for="'+p+'">',i+='<input type="radio" name="jspsych-survey-multi-choice-response-'+o+'" id="'+p+'" value="'+a.options[u]+'" '+c+"></input>",i+=a.options[u]+"</label>",i+="</div>"}i+="</div>"}i+='<input type="submit" id="'+r+'-next" class="'+r+' jspsych-btn"'+(t.button_label?' value="'+t.button_label+'"':"")+"></input>",e.innerHTML=i+="</form>",document.querySelector("form").addEventListener("submit",(function(r){r.preventDefault();r=performance.now()-d;for(var i={},s=0;s<t.questions.length;s++){var a,o=e.querySelector("#jspsych-survey-multi-choice-"+s),l="Q"+s;a=null!==o.querySelector("input[type=radio]:checked")?o.querySelector("input[type=radio]:checked").value:"";var u={};l=l;u[l=""!==o.attributes["data-name"].value?o.attributes["data-name"].value:l]=a,Object.assign(i,u)}r={rt:r,response:i,question_order:n},e.innerHTML="",jsPsych.finishTrial(r)}));var d=performance.now()},r)},function(e,t){var r;jsPsych.plugins["survey-multi-select"]=((r={}).info={name:"survey-multi-select",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick at least one option for this question."},name:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Question Name",default:"",description:"Controls the name of data values associated with this question"}}},randomize_question_order:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."},required_message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Required message",default:"You must choose at least one response for this question",description:"Message that will be displayed if required question is not answered."},autocomplete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow autocomplete",default:!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."}}},r.trial=function(e,t){function r(){return Array.prototype.slice.call(arguments,r.length).join(separator="-")}var i="jspsych-survey-multi-select";e.innerHTML="<style id=\"jspsych-survey-multi-select-css\">.jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}</style>";var n=r(i,"form");e.innerHTML+='<form id="'+n+'"></form>';var s=e.querySelector("#"+n);t.autocomplete||s.setAttribute("autocomplete","off"),n=r(i,"preamble"),null!==t.preamble&&(s.innerHTML+='<div id="'+n+'" class="'+n+'">'+t.preamble+"</div>");for(var a=[],o=0;o<t.questions.length;o++)a.push(o);for(t.randomize_question_order&&(a=jsPsych.randomization.shuffle(a)),o=0;o<t.questions.length;o++){var l=t.questions[a[o]],u=a[o],p=[r(i,"question")];l.horizontal&&p.push(r(i,"horizontal")),s.innerHTML+='<div id="'+r(i,u)+'" data-name="'+l.name+'" class="'+p.join(" ")+'"></div>';var c=r("#jspsych-survey-multi-select",u);e.querySelector(c).innerHTML+='<p id="survey-question" class="'+i+'-text survey-multi-select">'+l.prompt+"</p>";for(var d=0;d<l.options.length;d++){var y=r(i,"option",u,d);e.querySelector(c).innerHTML+='<div id="'+y+'" class="'+r(i,"option")+'"></div>';var h=document.getElementById(y),m=r(i,"response",u),f=r(i,"response",u,d),g=document.createElement("label");g.setAttribute("class",i+"-text"),g.innerHTML=l.options[d],g.setAttribute("for",f),(y=document.createElement("input")).setAttribute("type","checkbox"),y.setAttribute("name",m),y.setAttribute("id",f),y.setAttribute("value",l.options[d]),h.appendChild(g),g.insertBefore(y,g.firstChild)}}s.innerHTML+='<div class="fail-message"></div>',s.innerHTML+='<button id="'+i+'-next" class="'+i+' jspsych-btn">'+t.button_label+"</button>",e.querySelector("#jspsych-survey-multi-select-next").addEventListener("click",(function(){for(var r=0;r<t.questions.length;r++)t.questions[r].required&&(null==e.querySelector("#jspsych-survey-multi-select-"+r+" input:checked")?e.querySelector("#jspsych-survey-multi-select-"+r+" input").setCustomValidity(t.required_message):e.querySelector("#jspsych-survey-multi-select-"+r+" input").setCustomValidity(""));s.reportValidity()})),s.addEventListener("submit",(function(r){r.preventDefault();r=performance.now()-_;for(var i={},n=[],s=0;s<t.questions.length;s++){for(var o=e.querySelector("#jspsych-survey-multi-select-"+s),l=[],u=o.querySelectorAll("input[type=checkbox]:checked"),p=0;p<u.length;p++)currentChecked=u[p],l.push(currentChecked.value);var c={},d="Q"+s;c[d=""!==o.attributes["data-name"].value?o.attributes["data-name"].value:d]=l,Object.assign(i,c),0==l.length?n.push(!1):n.push(!0)}r={rt:r,response:i,question_order:a},e.innerHTML="",jsPsych.finishTrial(r)}));var _=performance.now()},r)},function(e,t){var r;jsPsych.plugins["survey-text"]=((r={}).info={name:"survey-text",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Prompt for the subject to response"},placeholder:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Placeholder",default:"",description:"Placeholder text in the textfield."},rows:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Rows",default:1,description:"The number of rows for the response text box."},columns:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Columns",default:40,description:"The number of columns for the response text box."},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Require a response"},name:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Question Name",default:"",description:"Controls the name of data values associated with this question"}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."},autocomplete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow autocomplete",default:!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."}}},r.trial=function(e,t){for(var r=0;r<t.questions.length;r++)void 0===t.questions[r].rows&&(t.questions[r].rows=1);for(r=0;r<t.questions.length;r++)void 0===t.questions[r].columns&&(t.questions[r].columns=40);for(r=0;r<t.questions.length;r++)void 0===t.questions[r].value&&(t.questions[r].value="");var i="";null!==t.preamble&&(i+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-text-form">':i+='<form id="jspsych-survey-text-form" autocomplete="off">';var n=[];for(r=0;r<t.questions.length;r++)n.push(r);for(t.randomize_question_order&&(n=jsPsych.randomization.shuffle(n)),r=0;r<t.questions.length;r++){var s=t.questions[n[r]],a=n[r];i+='<div id="jspsych-survey-text-'+a+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',i+='<p class="jspsych-survey-text">'+s.prompt+"</p>";var o=0==r?"autofocus":"",l=s.required?"required":"";1==s.rows?i+='<input type="text" id="input-'+a+'"  name="#jspsych-survey-text-response-'+a+'" data-name="'+s.name+'" size="'+s.columns+'" '+o+" "+l+' placeholder="'+s.placeholder+'"></input>':i+='<textarea id="input-'+a+'" name="#jspsych-survey-text-response-'+a+'" data-name="'+s.name+'" cols="'+s.columns+'" rows="'+s.rows+'" '+o+" "+l+' placeholder="'+s.placeholder+'"></textarea>',i+="</div>"}i+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+t.button_label+'"></input>',e.innerHTML=i+="</form>",e.querySelector("#input-"+n[0]).focus(),e.querySelector("#jspsych-survey-text-form").addEventListener("submit",(function(r){r.preventDefault();r=performance.now()-u;for(var i={},n=0;n<t.questions.length;n++){var s,a="Q"+n,o=(s=document.querySelector("#jspsych-survey-text-"+n).querySelector("textarea, input")).value,l=s.attributes["data-name"].value;(s={})[l=""==l?a:l]=o,Object.assign(i,s)}r={rt:r,response:i},e.innerHTML="",jsPsych.finishTrial(r)}));var u=performance.now()},r)},function(e,t){var r;jsPsych.plugins["visual-search-circle"]=(r={},jsPsych.pluginAPI.registerPreload("visual-search-circle","target","image"),jsPsych.pluginAPI.registerPreload("visual-search-circle","foil","image"),jsPsych.pluginAPI.registerPreload("visual-search-circle","fixation_image","image"),r.info={name:"visual-search-circle",description:"",parameters:{target:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Target",default:void 0,description:"The image to be displayed."},foil:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Foil",default:void 0,description:"Path to image file that is the foil/distractor."},fixation_image:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Fixation image",default:void 0,description:"Path to image file that is a fixation target."},set_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Set size",default:void 0,description:"How many items should be displayed?"},target_present:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Target present",default:!0,description:"Is the target present?"},target_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Target size",array:!0,default:[50,50],description:"Two element array indicating the height and width of the search array element images."},fixation_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fixation size",array:!0,default:[16,16],description:"Two element array indicating the height and width of the fixation image."},circle_diameter:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Circle diameter",default:250,description:"The diameter of the search array circle in pixels."},target_present_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Target present key",default:"j",description:"The key to press if the target is present in the search array."},target_absent_key:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Target absent key",default:"f",description:"The key to press if the target is not present in the search array."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},fixation_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Fixation duration",default:1e3,description:"How long to show the fixation image for before the search array (in milliseconds)."}}},r.trial=function(e,t){for(var r,i=t.circle_diameter,n=i/2,s=i+t.target_size[0],a=t.target_size[0]/2,o=t.target_size[1]/2,l=[Math.floor(s/2-t.fixation_size[0]/2),Math.floor(s/2-t.fixation_size[1]/2)],u=[],p=t.set_size,c=Math.floor(360*Math.random()),d=0;d<p;d++)u.push([Math.floor(s/2+(r=c+d*(360/p),Math.cos(r/180*Math.PI)*n)-o),Math.floor(s/2-(r=c+d*(360/p),Math.sin(r/180*Math.PI)*n)-a)]);e.innerHTML+='<div id="jspsych-visual-search-circle-container" style="position: relative; width:'+s+"px; height:"+s+'px"></div>';var y=e.querySelector("#jspsych-visual-search-circle-container");if(!Array.isArray(t.foil)){for(fa=[],d=0;d<t.set_size;d++)fa.push(t.foil);t.foil=fa}function h(e,r,i){i={correct:r,rt:e,response:i,locations:u,target_present:t.target_present,set_size:t.set_size},jsPsych.finishTrial(i)}y.innerHTML+="<img src='"+t.fixation_image+"' style='position: absolute; top:"+l[0]+"px; left:"+l[1]+"px; width:"+t.fixation_size[0]+"px; height:"+t.fixation_size[1]+"px;'></img>",jsPsych.pluginAPI.setTimeout((function(){!function(){var r=[];t.target_present&&r.push(t.target),r=r.concat(t.foil);for(var i=0;i<u.length;i++)y.innerHTML+="<img src='"+r[i]+"' style='position: absolute; top:"+u[i][0]+"px; left:"+u[i][1]+"px; width:"+t.target_size[0]+"px; height:"+t.target_size[1]+"px;'></img>";var n=!1,s=[t.target_present_key,t.target_absent_key];function a(){e.innerHTML=""}key_listener=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){var r=!(n=!0);(jsPsych.pluginAPI.compareKeys(e.key,t.target_present_key)&&t.target_present||jsPsych.pluginAPI.compareKeys(e.key,t.target_absent_key)&&!t.target_present)&&(r=!0),a(),h(e.rt,r,e.key)},valid_responses:s,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&jsPsych.pluginAPI.setTimeout((function(){n||(jsPsych.pluginAPI.cancelKeyboardResponse(key_listener),n=!0,a(),h(null,0,null))}),t.trial_duration)}()}),t.fixation_duration)},r)},function(e,t){var r;jsPsych.plugins["vsl-animate-occlusion"]=(r={},jsPsych.pluginAPI.registerPreload("vsl-animate-occlusion","stimuli","image"),r.info={name:"vsl-animate-occlusion",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli",default:void 0,array:!0,description:"A stimulus is a path to an image file."},choices:{type:jsPsych.plugins.parameterType.KEY,pretty_name:"Choices",array:!0,default:jsPsych.ALL_KEYS,description:"This array contains the keys that the subject is allowed to press in order to respond to the stimulus. "},canvas_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Canvas size",array:!0,default:[400,400],description:"Array specifying the width and height of the area that the animation will display in."},image_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image size",array:!0,default:[100,100],description:"Array specifying the width and height of the images to show."},initial_direction:{type:jsPsych.plugins.parameterType.SELECT,pretty_name:"Initial direction",choices:["left","right"],default:"left",description:"Which direction the stimulus should move first."},occlude_center:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Occlude center",default:!0,description:"If true, display a rectangle in the center of the screen that is just wide enough to occlude the image completely as it passes behind."},cycle_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Cycle duration",default:1e3,description:"How long it takes for a stimulus in the sequence to make a complete cycle."},pre_movement_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Pre movement duration",default:500,description:"How long to wait before the stimuli starts moving from behind the center rectangle."}}},r.trial=function(e,t){var r=[],i=[[{params:{x:t.canvas_size[0]-t.image_size[0]},ms:t.cycle_duration/2},{params:{x:t.canvas_size[0]/2-t.image_size[0]/2},ms:t.cycle_duration/2}],[{params:{x:0},ms:t.cycle_duration/2},{params:{x:t.canvas_size[0]/2-t.image_size[0]/2},ms:t.cycle_duration/2}]],n=0,s="right"==t.initial_direction?0:1;function a(){var o,u;t.stimuli.length==n?function(){e.innerHTML="",jsPsych.pluginAPI.cancelKeyboardResponse(key_listener);var i={stimuli:t.stimuli,response:r};jsPsych.finishTrial(i)}():(o=i[s],s=0===s?1:0,u=t.stimuli[n],n++,l.animate(o[0].params,o[0].ms,mina.linear,(function(){l.animate(o[1].params,o[1].ms,mina.linear,(function(){a()}))})),l.attr({href:u}),performance.now())}e.innerHTML="<svg id='jspsych-vsl-animate-occlusion-canvas' width="+t.canvas_size[0]+" height="+t.canvas_size[1]+"></svg>";var o=Snap("#jspsych-vsl-animate-occlusion-canvas"),l=o.image(t.stimuli[n],t.canvas_size[0]/2-t.image_size[0]/2,t.canvas_size[1]/2-t.image_size[1]/2,t.image_size[0],t.image_size[1]).attr({id:"jspsych-vsl-animate-occlusion-moving-image"});e.querySelector("#jspsych-vsl-animate-occlusion-moving-image").removeAttribute("preserveAspectRatio"),t.occlude_center&&o.rect(t.canvas_size[0]/2-t.image_size[0]/2,0,t.image_size[0],t.canvas_size[1]).attr({fill:"#000"}),key_listener=jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){r.push({key:e.key,stimulus:n-1,rt:e.rt})},valid_responses:t.choices,rt_method:"performance",persist:!0,allow_held_key:!1}),0<t.pre_movement_duration?jsPsych.pluginAPI.setTimeout((function(){a()}),t.pre_movement_duration):a()},r)},function(e,t){var r;jsPsych.plugins["vsl-grid-scene"]=(r={},jsPsych.pluginAPI.registerPreload("vsl-grid-scene","stimuli","image"),r.info={name:"vsl-grid-scene",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli",array:!0,default:void 0,description:"An array that defines a grid."},image_size:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Image size",array:!0,default:[100,100],description:"Array specifying the width and height of the images to show."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:2e3,description:"How long to show the stimulus for in milliseconds."}}},r.trial=function(e,t){e.innerHTML=r.generate_stimulus(t.stimuli,t.image_size),jsPsych.pluginAPI.setTimeout((function(){!function(){e.innerHTML="";var r={stimulus:t.stimuli};jsPsych.finishTrial(r)}()}),t.trial_duration)},r.generate_stimulus=function(e,t){var r=e.length,i=e[0].length,n='<div id="jspsych-vsl-grid-scene-dummy" css="display: none;">';n+='<table id="jspsych-vsl-grid-scene table" style="border-collapse: collapse; margin-left: auto; margin-right: auto;">';for(var s=0;s<r;s++){n+='<tr id="jspsych-vsl-grid-scene-table-row-'+s+'" css="height: '+t[1]+'px;">';for(var a=0;a<i;a++)n+='<td id="jspsych-vsl-grid-scene-table-'+s+"-"+a+'" style="padding: '+t[1]/10+"px "+t[0]/10+'px; border: 1px solid #555;"><div id="jspsych-vsl-grid-scene-table-cell-'+s+"-"+a+'" style="width: '+t[0]+"px; height: "+t[1]+'px;">',0!==e[s][a]&&(n+='<img src="'+e[s][a]+'" style="width: '+t[0]+"px; height: "+t[1]+'"></img>'),n+="</div>",n+="</td>";n+="</tr>"}return(n+="</table>")+"</div>"},r)},function(e,t,r){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(34),n=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,o=60110,l=60112;t.Suspense=60113;var u=60115,p=60116;"function"==typeof Symbol&&Symbol.for&&(n=(_=Symbol.for)("react.element"),s=_("react.portal"),t.Fragment=_("react.fragment"),t.StrictMode=_("react.strict_mode"),t.Profiler=_("react.profiler"),a=_("react.provider"),o=_("react.context"),l=_("react.forward_ref"),t.Suspense=_("react.suspense"),u=_("react.memo"),p=_("react.lazy"));var c="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||y}function f(){}function g(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||y}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=m.prototype;var _=g.prototype=new f;_.constructor=g,i(_,m.prototype),_.isPureReactComponent=!0;var v={current:null},b=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)b.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),p=0;p<l;p++)u[p]=arguments[p+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:v.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,r={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var r}function I(e,t,r){if(null==e)return e;var i=[],a=0;return function e(t,r,i,a,o){var l,u,p=!1;if(null===(t="undefined"==(h=typeof t)||"boolean"===h?null:t))p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case n:case s:p=!0}}if(p)return o=o(p=t),t=""===a?"."+k(p,0):a,Array.isArray(o)?(i="",e(o,r,i=null!=t?t.replace(P,"$&/")+"/":i,"",(function(e){return e}))):null!=o&&(w(o)&&(l=i+(!(u=o).key||p&&p.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+t,o={$$typeof:n,type:u.type,key:l,ref:u.ref,props:u.props,_owner:u._owner}),r.push(o)),1;if(p=0,a=""===a?".":a+":",Array.isArray(t))for(var y=0;y<t.length;y++){var h,m=a+k(h=t[y],y);p+=e(h,r,i,m,o)}else if("function"==typeof(m=null!==(u=t)&&"object"==typeof u&&"function"==typeof(u=c&&u[c]||u["@@iterator"])?u:null))for(t=m.call(t),y=0;!(h=t.next()).done;)p+=e(h=h.value,r,i,m=a+k(h,y++),o);else if("object"===h)throw r=""+t,Error(d(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r));return p}(e,i,"","",(function(e){return t.call(r,e,a++)})),i}function x(e){var t;if(-1===e._status&&(t=(t=e._result)(),e._status=0,(e._result=t).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))),1===e._status)return e._result;throw e._result}var S={current:null};function L(){var e=S.current;if(null===e)throw Error(d(321));return e}_={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:v,IsSomeRendererActing:{current:!1},assign:i},t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,r){if(null==e)throw Error(d(267,e));var s=i({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t)for(u in void 0!==t.ref&&(o=t.ref,l=v.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps&&(p=e.type.defaultProps),t)b.call(t,u)&&!T.hasOwnProperty(u)&&(s[u]=(void 0===t[u]&&void 0!==p?p:t)[u]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var p=Array(u),c=0;c<u;c++)p[c]=arguments[c+2];s.children=p}return{$$typeof:n,type:e.type,key:a,ref:o,props:s,_owner:l}},t.createContext=function(e,t){return(e={$$typeof:o,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return L().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,r){return L().useReducer(e,t,r)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var r,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var l in r=Object(arguments[o]))n.call(r,l)&&(a[l]=r[l]);if(i)for(var u=i(r),p=0;p<u.length;p++)s.call(r,u[p])&&(a[u[p]]=r[u[p]])}return a}},function(e,t,r){"use strict";r.r(t),r.d(t,"jsPsych",(function(){return a.a})),r.d(t,"ExperimentWindow",(function(){return W}));var i=r(1),n=r.n(i),s=r(0),a=r.n(s),o=r(2),l=r.n(o),u=r(3),p=r.n(u),c=r(4),d=r.n(c),y=r(5),h=r.n(y),m=r(6),f=r.n(m),g=r(7),_=r.n(g),v=r(8),b=r.n(v),T=r(9),j=r.n(T),w=r(10),P=r.n(w),k=r(11),I=r.n(k),x=r(12),S=r.n(x),L=r(13),A=r.n(L),O=r(14),N=r.n(O),q=r(15),E=r.n(q),M=r(16),R=r.n(M),H=(t=r(17),s=r.n(t),o=r(18),u=r.n(o),c=r(19),y=r.n(c),m=r(20),g=r.n(m),v=r(21),T=r.n(v),w=r(22),k=r.n(w),x=r(23),L=r.n(x),O=r(24),q=r.n(O),M=r(25),t=r.n(M),o=r(26),c=r.n(o),m=r(27),v=r.n(m),w=r(28),x=r.n(w),O=r(29),M=r.n(O),o=r(30),m=r.n(o),w=r(31),O=r.n(w),o=r(32),w=r.n(o),window.jsPsych||r(0)),C=(o=((o={}).info={name:"callback-html-keyboard-response",description:"",parameters:{stimulus:{type:H.plugins.parameterType.HTML_STRING,pretty_name:"stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:H.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:H.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:H.plugins.parameterType.STRING,pretty_name:"Prompt",default:"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:H.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:-1,description:"How long to hide the stimulus."},trial_duration:{type:H.plugins.parameterType.INT,pretty_name:"Trial duration",default:-1,description:"How long to show trial before it ends."},response_ends_trial:{type:H.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},o.trial=function(e,t){var r='<div id="jspsych-callback-html-keyboard-response-stimulus">'+t.stimulus+"</div>";function i(){H.pluginAPI.clearAllTimeouts(),void 0!==n&&H.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key};e.innerHTML="",H.finishTrial(r)}"function"==typeof t.on_start?t.on_start.call():void 0!==t.on_start&&(t.data.on_start=t.on_start),r+=t.prompt,e.innerHTML=r;var n,s={rt:-1,key:-1};t.choices!=H.NO_KEYS&&(n=H.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-callback-html-keyboard-response-stimulus").className+=" responded",-1==s.key&&(s=r),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),0<t.stimulus_duration&&H.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-callback-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),0<t.trial_duration&&H.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},o),window.jsPsych||r(0)),z=(r=(r={},C.pluginAPI.registerPreload("callback-image-keyboard-response","stimulus","image"),r.info={name:"callback-image-keyboard-response",description:"",parameters:{stimulus:{type:C.plugins.parameterType.IMAGE,pretty_name:"stimulus",default:void 0,description:"The image to be displayed"},choices:{type:C.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:C.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:C.plugins.parameterType.STRING,pretty_name:"Prompt",default:"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:C.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:-1,description:"How long to hide the stimulus."},trial_duration:{type:C.plugins.parameterType.INT,pretty_name:"Trial duration",default:-1,description:"How long to show trial before it ends."},response_ends_trial:{type:C.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},r.trial=function(e,t){var r='<img src="'+t.stimulus+'" id="jspsych-callback-image-keyboard-response-stimulus"></img>';function i(){C.pluginAPI.clearAllTimeouts(),void 0!==n&&C.pluginAPI.cancelKeyboardResponse(n);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key};e.innerHTML="",C.finishTrial(r)}r+=t.prompt,"function"==typeof t.on_start?t.on_start.call():void 0!==t.on_start&&(t.data.on_start=t.on_start),e.innerHTML=r;var n,s={rt:-1,key:-1};t.choices!=C.NO_KEYS&&(n=C.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-callback-image-keyboard-response-stimulus").className+=" responded",-1==s.key&&(s=r),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),0<t.stimulus_duration&&C.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-callback-image-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),0<t.trial_duration&&C.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},r),{animation:l.a,"audio-button-response":p.a,"audio-slider-response":h.a,"audio-keyboard-response":d.a,"call-function":f.a,"categorize-html":_.a,"external-html":b.a,"free-sort":j.a,fullscreen:P.a,"html-button-response":I.a,"html-slider-response":A.a,"html-keyboard-response":S.a,"iat-html":N.a,"iat-image":E.a,"image-slider-response":s.a,"image-keyboard-response":R.a,"image-button-response":u.a,instructions:y.a,reconstruction:g.a,resize:T.a,"same-different-html":k.a,"same-different-image":L.a,"serial-reaction-time-mouse":q.a,"serial-reaction-time":t.a,"survey-likert":c.a,"survey-multi-choice":v.a,"survey-multi-select":x.a,"survey-text":M.a,"visual-search-circle":m.a,"vsl-animate-occlusion":O.a,"vsl-grid-scene":w.a,"callback-html-keyboard-response":o,"callback-image-keyboard-response":r});function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)),i}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){var i,n;i=e,t=r[n=t],n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,i.Component);var e,t,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=Y(e);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Y(this).constructor,Reflect.construct(i,arguments,r)):i.apply(this,arguments))}}(s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=r.call(this,e);return Object.assign(a.a.plugins,z,e.plugins),t.handleKeyEvent=function(e){e.redispatched||((e=new e.constructor(e.type,e)).redispatched=!0,t.experimentDiv.dispatchEvent(e))},t.experimentDiv=null,t.width=e.width||"100%",t.height=e.height||"100%",t.settings=G(G({},e.settings),{},{timeline:e.settings.timeline||[{type:"html-keyboard-response",stimulus:"This is the default timeline."}]}),t}return e=s,(t=[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"experimentWindow",style:{height:this.height,width:this.width},ref:function(t){e.experimentDiv=t}})}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyEvent,!0),window.addEventListener("keydown",this.handleKeyEvent,!0),a.a.init(G(G({},this.settings),{},{display_element:this.experimentDiv}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyEvent,!0),window.removeEventListener("keydown",this.handleKeyEvent,!0);try{a.a.endExperiment("Ended Experiment")}catch(e){console.log("Experiment closed before unmount")}}}])&&F(e.prototype,t),s}()}],r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)e.d(i,n,function(e){return t[e]}.bind(null,n));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=35);function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var t,r}));